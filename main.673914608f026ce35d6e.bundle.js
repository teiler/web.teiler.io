webpackJsonp([1],{"+7s5":function(n,l,u){"use strict";var t=u("tng+"),e=u("CPp0"),r=u("8dNA");u.d(l,"a",function(){return i});var o=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var u in l)l.hasOwnProperty(u)&&(n[u]=l[u])};return function(l,u){function t(){this.constructor=l}n(l,u),l.prototype=null===u?Object.create(u):(t.prototype=u.prototype,new t)}}(),i=function(n){function l(l,u){return n.call(this,l,u)||this}return o(l,n),l.prototype.createPerson=function(n,l){var u={name:l};return this.post(this.getRequesturl(n,""),u).map(function(n){return n.json()}).catch(this.handleApiError.bind(this))},l.prototype.updatePerson=function(n,l,u){var t={name:u};return this.put(this.getRequesturl(n,"/"+l),t).map(function(n){return n.json()}).catch(this.handleApiError.bind(this))},l.prototype.deletePerson=function(n,l){return this.delete(this.getRequesturl(n,"/"+l)).map(function(){return!0}).catch(this.handleApiError.bind(this))},l.prototype.getRequesturl=function(n,l){return"groups/"+n+"/people"+l},l.ctorParameters=function(){return[{type:e.i},{type:r.a}]},l}(t.a)},"+RPq":function(n,l,u){"use strict";var t=u("/bDH"),e=u("WIp3"),r=u("N5eQ"),o=u("kQRT"),i=u("Y8ja");u.d(l,"a",function(){return a});var a=(t.a,t.b,r.a,e.a,r.a,t.c,r.a,t.c,r.a,o.a,r.a,o.a,r.a,i.a,r.a,function(){function n(){}return n}())},"+h1B":function(n,l,u){"use strict";var t=u("/oeL"),e=u("aR8+"),r=u("wQAS"),o=u("hyOo"),i=u("/s2T"),a=u("iRRl"),s=u("Fkr0"),c=u("khFZ"),p=u("73Zh"),_=u("c1hy"),d=u("WS9+"),f=u("na9u"),g=u("q4dy"),h=u("qbdv"),m=u("fc+i"),v=u("CPp0"),y=u("bm2B"),b=u("8dNA"),P=u("BVHc"),C=u("+7s5"),S=u("FZbv"),O=u("wPMS"),E=u("WyQf"),w=u("NHX5"),M=u("BkNc"),R=u("N5eQ"),I=u("hbBc"),T=u("g6XM"),x=u("yYYf"),k=u("FCMx"),A=u("T2Au"),D=u("LpzL"),G=u("fKQ5"),N=u("+uYS"),F=u("smNJ"),U=u("s/PX"),q=u("wWgx"),L=u("WIp3"),H=u("tJSj"),j=u("kQRT"),B=u("Y8ja"),W=u("Cz9B"),Q=u("+RPq"),X=u("jghB"),Z=u("xerC"),V=u("vnfH");u.d(l,"a",function(){return $});var $=t.b(e.a,[r.a],function(n){return t.c([t.d(512,t.e,t.f,[[8,[o.a,i.a,a.a,s.a,c.a,p.a,_.a,d.a,f.a,g.a]],[3,t.e],t.g]),t.d(5120,t.h,t.i,[[3,t.h]]),t.d(4608,h.a,h.b,[t.h]),t.d(5120,t.j,t.k,[]),t.d(5120,t.l,t.m,[]),t.d(5120,t.n,t.o,[]),t.d(4608,m.b,m.c,[m.d]),t.d(6144,t.p,null,[m.b]),t.d(4608,m.e,m.f,[]),t.d(5120,m.g,function(n,l,u,t){return[new m.h(n),new m.i(l),new m.j(u,t)]},[m.d,m.d,m.d,m.e]),t.d(4608,m.k,m.k,[m.g,t.q]),t.d(135680,m.l,m.l,[m.d]),t.d(4608,m.m,m.m,[m.k,m.l]),t.d(6144,t.r,null,[m.m]),t.d(6144,m.n,null,[m.l]),t.d(4608,t.s,t.s,[t.q]),t.d(4608,m.o,m.o,[m.d]),t.d(4608,m.p,m.p,[m.d]),t.d(4608,v.a,v.a,[]),t.d(4608,v.b,v.c,[]),t.d(5120,v.d,v.e,[]),t.d(4608,v.f,v.f,[v.a,v.b,v.d]),t.d(4608,v.g,v.h,[]),t.d(5120,v.i,v.j,[v.f,v.g]),t.d(4608,y.a,y.a,[]),t.d(4608,b.a,b.a,[]),t.d(4608,P.a,P.a,[v.i,b.a]),t.d(4608,C.a,C.a,[v.i,b.a]),t.d(4608,S.a,S.a,[P.a,C.a]),t.d(4608,O.a,O.a,[]),t.d(4608,E.a,E.a,[O.a]),t.d(4608,w.a,w.a,[M.a,h.c]),t.d(4608,R.a,R.a,[S.a,E.a,O.a,w.a]),t.d(5120,M.b,M.c,[M.a]),t.d(4608,M.d,M.d,[]),t.d(6144,M.e,null,[M.d]),t.d(135680,M.f,M.f,[M.a,t.t,t.u,t.v,M.e]),t.d(4608,M.g,M.g,[]),t.d(5120,M.h,M.i,[M.j]),t.d(5120,t.w,function(n){return[n]},[M.h]),t.d(4608,I.a,I.a,[v.i,b.a]),t.d(4608,T.a,T.a,[I.a]),t.d(4608,x.a,x.a,[v.i,b.a]),t.d(4608,k.a,k.a,[x.a]),t.d(512,h.d,h.d,[]),t.d(1024,t.x,m.q,[]),t.d(1024,t.y,function(){return[M.k()]},[]),t.d(512,M.j,M.j,[t.v]),t.d(1024,t.z,function(n,l,u){return[m.r(n,l),M.l(u)]},[[2,m.s],[2,t.y],M.j]),t.d(512,t.A,t.A,[[2,t.z]]),t.d(131584,t.B,t.B,[t.q,t.C,t.v,t.x,t.e,t.A]),t.d(2048,t.D,null,[t.B]),t.d(512,t.E,t.E,[t.D]),t.d(512,m.t,m.t,[[3,m.t]]),t.d(512,v.k,v.k,[]),t.d(512,y.b,y.b,[]),t.d(512,y.c,y.c,[]),t.d(512,A.a,A.a,[]),t.d(512,D.a,D.a,[[3,D.a]]),t.d(1024,M.m,M.n,[[3,M.a]]),t.d(512,M.o,M.p,[]),t.d(512,M.q,M.q,[]),t.d(256,M.r,{},[]),t.d(1024,h.e,M.s,[h.f,[2,h.g],M.r]),t.d(512,h.c,h.c,[h.e]),t.d(512,t.u,t.u,[]),t.d(512,t.t,t.F,[t.u,[2,t.G]]),t.d(1024,M.t,function(){return[[{path:"",component:G.a,children:[{path:"",component:N.a,pathMatch:"full"},{path:"design",component:F.a}]}],[{path:"groups",component:U.a,children:[{path:":id",component:q.a,resolve:{group:R.a}},{path:":id/edit",component:L.a,resolve:{group:R.a}},{path:":id/expenses/create",component:H.a,resolve:{group:R.a}},{path:":id/expenses/:expenseId/edit",component:H.a,resolve:{group:R.a}},{path:":id/compensations/create",component:j.a,resolve:{group:R.a}},{path:":id/compensations/:compensationId/edit",component:j.a,resolve:{group:R.a}},{path:":id/suggest-payments",component:B.a,resolve:{group:R.a}}]}],[]]},[]),t.d(1024,M.a,M.u,[t.D,M.o,M.q,h.c,t.v,t.t,t.u,M.t,M.r,[2,M.v],[2,M.w]]),t.d(512,M.x,M.x,[[2,M.m],[2,M.a]]),t.d(512,W.a,W.a,[]),t.d(512,Q.a,Q.a,[]),t.d(512,X.a,X.a,[]),t.d(512,Z.a,Z.a,[]),t.d(512,V.a,V.a,[]),t.d(512,e.a,e.a,[])])})},"+uYS":function(n,l,u){"use strict";u.d(l,"a",function(){return t});var t=function(){function n(){this.title="teiler.io"}return n.prototype.ngOnInit=function(){},n.ctorParameters=function(){return[]},n}()},"/bDH":function(n,l,u){"use strict";var t=u("s/PX");u.d(l,"a",function(){return t.a});var e=u("wWgx");u.d(l,"b",function(){return e.a});var r=(u("ox/w"),u("wQe3"),u("WIp3"),u("tJSj"));u.d(l,"c",function(){return r.a});u("kQRT")},"/nEh":function(n,l,u){"use strict";u.d(l,"a",function(){return t});var t=function(){function n(n,l,u){this.id=n,this.name=l,this.fetchedTime=u}return n.fromDto=function(l){return new n(l.id,l.name,new Date(l.fetchedTime))},n.prototype.toDto=function(){return JSON.stringify(this)},n}()},"/s2T":function(n,l,u){"use strict";function t(n){return o._25(0,[(n()(),o._26(0,null,null,6,"header",[["class","row align-center"]],null,null,null,null,null)),(n()(),o._29(null,["\n  "])),(n()(),o._26(0,null,null,0,"img",[["class","logo small-3 middle-12 large-12 align-self-middle columns"],["src","assets/logo.svg"]],null,null,null,null,null)),(n()(),o._29(null,["\n  "])),(n()(),o._26(0,null,null,1,"h1",[["class","title small-9 middle-12 large-12 align-self-middle columns"]],null,null,null,null,null)),(n()(),o._29(null,["\n    ","\n  "])),(n()(),o._29(null,["\n"])),(n()(),o._29(null,["\n\n"])),(n()(),o._26(0,null,null,19,"article",[["class","welcome row align-center"]],null,null,null,null,null)),(n()(),o._29(null,["\n  "])),(n()(),o._26(0,null,null,7,"section",[["class","login small-12 medium-6 large-4 column"]],null,null,null,null,null)),(n()(),o._29(null,["\n    "])),(n()(),o._26(0,null,null,1,"span",[],null,null,null,null,null)),(n()(),o._29(null,["Already signed up?"])),(n()(),o._29(null,["\n    "])),(n()(),o._26(0,null,null,1,"tylr-group-login",[],null,null,null,i.a,i.b)),o._27(114688,null,0,a.a,[s.a,c.a,p.a,_.a],null,null),(n()(),o._29(null,["\n  "])),(n()(),o._29(null,["\n\n  "])),(n()(),o._26(0,null,null,7,"section",[["class","create small-12 medium-6 large-4 column"]],null,null,null,null,null)),(n()(),o._29(null,["\n    "])),(n()(),o._26(0,null,null,1,"span",[],null,null,null,null,null)),(n()(),o._29(null,["Create a group to get started:"])),(n()(),o._29(null,["\n    "])),(n()(),o._26(0,null,null,1,"tylr-group-create",[],null,null,null,d.a,d.b)),o._27(114688,null,0,f.a,[s.a,c.a,p.a,_.a],null,null),(n()(),o._29(null,["\n  "])),(n()(),o._29(null,["\n"])),(n()(),o._29(null,["\n"])),(n()(),o._26(0,null,null,1,"tylr-footer",[],null,null,null,g.a,g.b)),o._27(114688,null,0,h.a,[],null,null),(n()(),o._29(null,["\n"]))],function(n,l){n(l,16,0),n(l,25,0),n(l,30,0)},function(n,l){n(l,5,0,l.component.title)})}function e(n){return o._25(0,[(n()(),o._26(0,null,null,1,"tylr-home",[],null,null,null,t,y)),o._27(114688,null,0,m.a,[],null,null)],function(n,l){n(l,1,0)},null)}var r=u("2LOi"),o=u("/oeL"),i=u("FriQ"),a=u("wQe3"),s=u("FZbv"),c=u("WyQf"),p=u("wPMS"),_=u("NHX5"),d=u("noME"),f=u("ox/w"),g=u("vy9s"),h=u("4HqU"),m=u("+uYS");u.d(l,"a",function(){return b});var v=[r.a],y=o._24({encapsulation:0,styles:v,data:{}}),b=o._28("tylr-home",m.a,e,{},{},[])},0:function(n,l,u){n.exports=u("cDNt")},"0Dbj":function(n,l,u){"use strict";var t=u("Hdtn");u.d(l,"a",function(){return e});var e=function(){function n(n,l){this.person=n,this.balance=l}return n.fromDto=function(l){return new n(t.a.fromDto(l.person),parseInt(l.balance,10))},Object.defineProperty(n.prototype,"balanceDecimal",{get:function(){return this.balance?this.balance/100:0},enumerable:!0,configurable:!0}),n}()},"2LOi":function(n,l,u){"use strict";u.d(l,"a",function(){return t});var t=["header[_ngcontent-%COMP%]{margin-top:2em;margin-bottom:2em}header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:100%;height:100%;max-width:15em}header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:400%;text-align:center}"]},"4HqU":function(n,l,u){"use strict";u.d(l,"a",function(){return t});var t=function(){function n(){}return n.prototype.ngOnInit=function(){},n.ctorParameters=function(){return[]},n}()},"5glg":function(n,l,u){"use strict";u.d(l,"a",function(){return t});var t=[""]},"6HG9":function(n,l,u){"use strict";var t=u("Hdtn");u.d(l,"a",function(){return e});var e=function(){function n(n,l,u){void 0===u&&(u=!0),this.person=n,this._isUpdatedManually=!1,this.share=l,this.isInvolved=u}return n.fromDto=function(l){return new n(t.a.fromDto(l.person),parseInt(l.share,10))},Object.defineProperty(n.prototype,"share",{get:function(){return this._share},set:function(n){n>0?(this._share=Math.floor(n),this.setShareFormatted(this._share)):(this._share=0,this.setShareFormatted(0))},enumerable:!0,configurable:!0}),n.prototype.setShareFormatted=function(n){this._shareFormatted=(n/100).toFixed(2)},Object.defineProperty(n.prototype,"shareFormatted",{get:function(){return this._shareFormatted},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isInvolved",{get:function(){return this._isInvolved},set:function(n){this._isInvolved=n,n||(this.share=0,this.setPercentageFormatted(0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"percentageFormatted",{get:function(){return this._percentageFormatted},enumerable:!0,configurable:!0}),n.prototype.setPercentageFormatted=function(n){Math.abs(n-Math.floor(n))>0?this._percentageFormatted=n.toFixed(1):this._percentageFormatted=n.toFixed(0)},Object.defineProperty(n.prototype,"isUpdatedManually",{get:function(){return this._isUpdatedManually},set:function(n){this._isUpdatedManually=n},enumerable:!0,configurable:!0}),n}()},"73Zh":function(n,l,u){"use strict";function t(n){return p._25(0,[(n()(),p._29(null,["\n        "])),(n()(),p._26(0,null,null,1,"p",[],null,null,null,null,null)),(n()(),p._29(null,["\n          Sad! You don't have any group members. Let's add some!\n        "])),(n()(),p._29(null,["\n      "]))],null,null)}function e(n){return p._25(0,[(n()(),p._26(0,null,null,20,"div",[["class","row"]],null,null,null,null,null)),(n()(),p._29(null,["\n          "])),(n()(),p._26(0,null,null,12,"div",[["class","small-10 medium-11 column"]],null,null,null,null,null)),(n()(),p._29(null,["\n            "])),(n()(),p._26(0,null,null,9,"input",[["placeholder","Name"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,u){var t=!0;if("input"===l){t=!1!==p._33(n,7)._handleInput(u.target.value)&&t}if("blur"===l){t=!1!==p._33(n,7).onTouched()&&t}if("compositionstart"===l){t=!1!==p._33(n,7)._compositionStart()&&t}if("compositionend"===l){t=!1!==p._33(n,7)._compositionEnd(u.target.value)&&t}if("ngModelChange"===l){t=!1!==(n.context.$implicit.name=u)&&t}return t},null,null)),p._27(278528,null,0,_.l,[p.l,p.n,p.P,p.O],{ngClass:[0,"ngClass"]},null),p._31(["error"]),p._27(16384,null,0,d.j,[p.O,p.P,[2,d.k]],null,null),p._27(16384,null,0,d.l,[],{required:[0,"required"]},null),p._37(1024,null,d.m,function(n){return[n]},[d.l]),p._37(1024,null,d.n,function(n){return[n]},[d.j]),p._27(671744,[["person",4]],0,d.o,[[2,d.h],[2,d.m],[8,null],[2,d.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),p._37(2048,null,d.p,null,[d.o]),p._27(16384,null,0,d.q,[d.p],null,null),(n()(),p._29(null,["\n          "])),(n()(),p._29(null,["\n\n          "])),(n()(),p._26(0,null,null,3,"div",[["class","shrink column align-self-middle"]],null,null,null,null,null)),(n()(),p._29(null,["\n            "])),(n()(),p._26(0,null,null,0,"img",[["src","assets/cancel.svg"]],null,[[null,"click"]],function(n,l,u){var t=!0,e=n.component;if("click"===l){t=!1!==e.deletePerson(n.context.index)&&t}return t},null,null)),(n()(),p._29(null,["\n          "])),(n()(),p._29(null,["\n        "]))],function(n,l){n(l,5,0,n(l,6,0,null==p._33(l,11).errors?null:p._33(l,11).errors.required));n(l,8,0,""),n(l,11,0,p._36(1,"person",l.context.index,""),l.context.$implicit.name)},function(n,l){n(l,4,0,p._33(l,8).required?"":null,p._33(l,13).ngClassUntouched,p._33(l,13).ngClassTouched,p._33(l,13).ngClassPristine,p._33(l,13).ngClassDirty,p._33(l,13).ngClassValid,p._33(l,13).ngClassInvalid,p._33(l,13).ngClassPending)})}function r(n){return p._25(0,[(n()(),p._26(0,null,null,4,"div",[],null,null,null,null,null)),(n()(),p._29(null,["\n        "])),(n()(),p._34(16777216,null,null,1,null,e)),p._27(802816,null,0,_.m,[p.W,p._7,p.l],{ngForOf:[0,"ngForOf"]},null),(n()(),p._29(null,["\n      "]))],function(n,l){n(l,3,0,l.component.group.people)},null)}function o(n){return p._25(0,[(n()(),p._26(0,null,null,84,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,l,u){var t=!0,e=n.component;if("submit"===l){t=!1!==p._33(n,2).onSubmit(u)&&t}if("reset"===l){t=!1!==p._33(n,2).onReset()&&t}if("ngSubmit"===l){t=!1!==e.saveGroup(p._33(n,2))&&t}return t},null,null)),p._27(16384,null,0,d.f,[],null,null),p._27(16384,[["groupEditForm",4]],0,d.g,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),p._37(2048,null,d.h,null,[d.g]),p._27(16384,null,0,d.i,[d.h],null,null),(n()(),p._29(null,["\n    "])),(n()(),p._26(0,null,null,18,"div",[["class","row align-bottom"]],null,null,null,null,null)),(n()(),p._29(null,["\n      "])),(n()(),p._26(0,null,null,15,"div",[["class","small-12 column"]],null,null,null,null,null)),(n()(),p._29(null,["\n        "])),(n()(),p._26(0,null,null,12,"label",[],null,null,null,null,null)),(n()(),p._29(null,["Group name\n          "])),(n()(),p._26(0,null,null,9,"input",[["class","big"],["name","group-name"],["placeholder","group name"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,u){var t=!0,e=n.component;if("input"===l){t=!1!==p._33(n,15)._handleInput(u.target.value)&&t}if("blur"===l){t=!1!==p._33(n,15).onTouched()&&t}if("compositionstart"===l){t=!1!==p._33(n,15)._compositionStart()&&t}if("compositionend"===l){t=!1!==p._33(n,15)._compositionEnd(u.target.value)&&t}if("ngModelChange"===l){t=!1!==(e.group.name=u)&&t}return t},null,null)),p._27(278528,null,0,_.l,[p.l,p.n,p.P,p.O],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),p._31(["error"]),p._27(16384,null,0,d.j,[p.O,p.P,[2,d.k]],null,null),p._27(16384,null,0,d.l,[],{required:[0,"required"]},null),p._37(1024,null,d.m,function(n){return[n]},[d.l]),p._37(1024,null,d.n,function(n){return[n]},[d.j]),p._27(671744,[["groupName",4]],0,d.o,[[2,d.h],[2,d.m],[8,null],[2,d.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),p._37(2048,null,d.p,null,[d.o]),p._27(16384,null,0,d.q,[d.p],null,null),(n()(),p._29(null,["\n        "])),(n()(),p._29(null,["\n      "])),(n()(),p._29(null,["\n    "])),(n()(),p._29(null,["\n\n    "])),(n()(),p._26(0,null,null,25,"div",[["class","row"]],null,null,null,null,null)),(n()(),p._29(null,["\n      "])),(n()(),p._26(0,null,null,22,"div",[["class","small-12 column"]],null,null,null,null,null)),(n()(),p._29(null,["\n        "])),(n()(),p._26(0,null,null,19,"label",[],null,null,null,null,null)),(n()(),p._29(null,["Currency\n          "])),(n()(),p._26(0,null,null,16,"select",[["name","group-currency"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,l,u){var t=!0,e=n.component;if("change"===l){t=!1!==p._33(n,33).onChange(u.target.value)&&t}if("blur"===l){t=!1!==p._33(n,33).onTouched()&&t}if("ngModelChange"===l){t=!1!==(e.group.currency=u)&&t}return t},null,null)),p._27(16384,null,0,d.r,[p.O,p.P],null,null),p._37(1024,null,d.n,function(n){return[n]},[d.r]),p._27(671744,null,0,d.o,[[2,d.h],[8,null],[8,null],[2,d.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),p._37(2048,null,d.p,null,[d.o]),p._27(16384,null,0,d.q,[d.p],null,null),(n()(),p._29(null,["\n            "])),(n()(),p._26(0,null,null,3,"option",[["value","chf"]],null,null,null,null,null)),p._27(147456,null,0,d.d,[p.P,p.O,[2,d.r]],{value:[0,"value"]},null),p._27(147456,null,0,d.e,[p.P,p.O,[8,null]],{value:[0,"value"]},null),(n()(),p._29(null,["CHF"])),(n()(),p._29(null,["\n            "])),(n()(),p._26(0,null,null,3,"option",[["value","eur"]],null,null,null,null,null)),p._27(147456,null,0,d.d,[p.P,p.O,[2,d.r]],{value:[0,"value"]},null),p._27(147456,null,0,d.e,[p.P,p.O,[8,null]],{value:[0,"value"]},null),(n()(),p._29(null,["EUR"])),(n()(),p._29(null,["\n          "])),(n()(),p._29(null,["\n        "])),(n()(),p._29(null,["\n      "])),(n()(),p._29(null,["\n    "])),(n()(),p._29(null,["\n\n    "])),(n()(),p._26(0,null,null,9,"fieldset",[],null,null,null,null,null)),(n()(),p._29(null,["\n      "])),(n()(),p._26(0,null,null,1,"legend",[],null,null,null,null,null)),(n()(),p._29(null,["People"])),(n()(),p._29(null,["\n\n      "])),(n()(),p._34(0,[["emptyPeopleBlock",2]],null,0,null,t)),(n()(),p._29(null,["\n\n      "])),(n()(),p._34(16777216,null,null,1,null,r)),p._27(16384,null,0,_.n,[p.W,p._7],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),p._29(null,["\n    "])),(n()(),p._29(null,["\n\n    "])),(n()(),p._26(0,null,null,19,"div",[["class","row"]],null,null,null,null,null)),(n()(),p._29(null,["\n      "])),(n()(),p._26(0,null,null,4,"div",[["class","small-12 medium-4 column"]],null,null,null,null,null)),(n()(),p._29(null,["\n        "])),(n()(),p._26(0,null,null,1,"button",[["class","add"]],null,[[null,"click"]],function(n,l,u){var t=!0,e=n.component;if("click"===l){t=!1!==e.addPerson()&&t}return t},null,null)),(n()(),p._29(null,["\n          Add Person\n        "])),(n()(),p._29(null,["\n      "])),(n()(),p._29(null,["\n\n      "])),(n()(),p._26(0,null,null,4,"div",[["class","small-12 medium-4 column"]],null,null,null,null,null)),(n()(),p._29(null,["\n        "])),(n()(),p._26(0,null,null,1,"button",[["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),p._29(null,["\n          Save\n        "])),(n()(),p._29(null,["\n      "])),(n()(),p._29(null,["\n\n      "])),(n()(),p._26(0,null,null,4,"div",[["class","small-12 medium-4 column"]],null,null,null,null,null)),(n()(),p._29(null,["\n        "])),(n()(),p._26(0,null,null,1,"button",[["class","secondary"],["type","button"]],null,[[null,"click"]],function(n,l,u){var t=!0,e=n.component;if("click"===l){t=!1!==e.onCancel()&&t}return t},null,null)),(n()(),p._29(null,["\n          Cancel\n        "])),(n()(),p._29(null,["\n      "])),(n()(),p._29(null,["\n    "])),(n()(),p._29(null,["\n  "]))],function(n,l){var u=l.component;n(l,13,0,"big",n(l,14,0,null==p._33(l,19).errors?null:p._33(l,19).errors.required));n(l,16,0,"");n(l,19,0,"group-name",u.group.name);n(l,35,0,"group-currency",u.group.currency);n(l,40,0,"chf");n(l,41,0,"chf");n(l,45,0,"eur");n(l,46,0,"eur"),n(l,61,0,u.group.people.length,p._33(l,58))},function(n,l){var u=l.component;n(l,0,0,p._33(l,4).ngClassUntouched,p._33(l,4).ngClassTouched,p._33(l,4).ngClassPristine,p._33(l,4).ngClassDirty,p._33(l,4).ngClassValid,p._33(l,4).ngClassInvalid,p._33(l,4).ngClassPending),n(l,12,0,p._33(l,16).required?"":null,p._33(l,21).ngClassUntouched,p._33(l,21).ngClassTouched,p._33(l,21).ngClassPristine,p._33(l,21).ngClassDirty,p._33(l,21).ngClassValid,p._33(l,21).ngClassInvalid,p._33(l,21).ngClassPending),n(l,32,0,p._33(l,37).ngClassUntouched,p._33(l,37).ngClassTouched,p._33(l,37).ngClassPristine,p._33(l,37).ngClassDirty,p._33(l,37).ngClassValid,p._33(l,37).ngClassInvalid,p._33(l,37).ngClassPending),n(l,74,0,p._33(l,2).invalid||!u.group.isValid())})}function i(n){return p._25(0,[(n()(),p._29(null,["\n    Group loading...\n  "]))],null,null)}function a(n){return p._25(0,[(n()(),p._26(0,null,null,21,"section",[["class","overview"]],null,null,null,null,null)),(n()(),p._29(null,["\n  "])),(n()(),p._26(0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),p._29(null,["Group "," - Edit"])),(n()(),p._29(null,["\n\n  "])),(n()(),p._26(0,null,null,1,"p",[["class","error"]],null,null,null,null,null)),(n()(),p._29(null,["",""])),(n()(),p._29(null,["\n\n  "])),(n()(),p._34(16777216,null,null,1,null,o)),p._27(16384,null,0,_.n,[p.W,p._7],{ngIf:[0,"ngIf"]},null),(n()(),p._29(null,["\n\n  "])),(n()(),p._26(0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(n()(),p._29(null,["\n    "])),(n()(),p._26(0,null,null,4,"div",[["class","small-12 column"]],null,null,null,null,null)),(n()(),p._29(null,["\n      "])),(n()(),p._26(0,null,null,1,"button",[["class","error"],["type","button"]],null,[[null,"click"]],function(n,l,u){var t=!0,e=n.component;if("click"===l){t=!1!==e.delete()&&t}return t},null,null)),(n()(),p._29(null,["\n        Delete Group\n      "])),(n()(),p._29(null,["\n    "])),(n()(),p._29(null,["\n  "])),(n()(),p._29(null,["\n\n\n  "])),(n()(),p._34(0,[["elseBlock",2]],null,0,null,i)),(n()(),p._29(null,["\n\n\n"])),(n()(),p._29(null,["\n"]))],function(n,l){n(l,9,0,l.component.group)},function(n,l){var u=l.component;n(l,3,0,null==u.group?null:u.group.name),n(l,6,0,u.response)})}function s(n){return p._25(0,[(n()(),p._26(0,null,null,1,"tylr-group-edit",[],null,null,null,a,P)),p._27(114688,null,0,f.a,[g.a,h.a,m.a,v.a,y.b],null,null)],function(n,l){n(l,1,0)},null)}var c=u("w/sl"),p=u("/oeL"),_=u("qbdv"),d=u("bm2B"),f=u("WIp3"),g=u("FZbv"),h=u("WyQf"),m=u("wPMS"),v=u("NHX5"),y=u("BkNc");u.d(l,"a",function(){return C});var b=[c.a],P=p._24({encapsulation:0,styles:b,data:{}}),C=p._28("tylr-group-edit",f.a,s,{},{},[])},"8dNA":function(n,l,u){"use strict";var t=u("P3Et");u.d(l,"a",function(){return e});var e=function(){function n(){}return n.prototype.getApiErrorMessage=function(n){return n?t.a.hasOwnProperty(n)?t.a[n]:n:"Something went wrong"},n.ctorParameters=function(){return[]},n}()},"9pvU":function(n,l,u){"use strict";var t=u("Gydm");u.d(l,"b",function(){return t.a});var e=(u("/nEh"),u("Hdtn"));u.d(l,"a",function(){return e.a})},BVHc:function(n,l,u){"use strict";var t=u("CPp0"),e=u("gOac"),r=u("8dNA");u.d(l,"a",function(){return i});var o=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var u in l)l.hasOwnProperty(u)&&(n[u]=l[u])};return function(l,u){function t(){this.constructor=l}n(l,u),l.prototype=null===u?Object.create(u):(t.prototype=u.prototype,new t)}}(),i=function(n){function l(l,u){var t=n.call(this,l,u)||this;return t.apiUrl="groups",t}return o(l,n),l.prototype.createGroup=function(l){var u={name:l};return this.post(this.getRequesturl(""),u).map(n.prototype.handleApiJsonResponse.bind(this)).catch(n.prototype.handleApiError.bind(this))},l.prototype.getGroup=function(l){return this.get(this.getRequesturl("/"+l)).map(n.prototype.handleApiJsonResponse.bind(this)).catch(n.prototype.handleApiError.bind(this))},l.prototype.updateGroup=function(l,u,t){var e={name:u,currency:t};return this.put(this.getRequesturl("/"+l),e).map(n.prototype.handleApiJsonResponse.bind(this)).catch(n.prototype.handleApiError.bind(this))},l.prototype.deleteGroup=function(l){return this.delete(this.getRequesturl("/"+l)).map(function(){return!0}).catch(n.prototype.handleApiError.bind(this))},l.prototype.getDebts=function(l){return this.get(this.getRequesturl("/"+l+"/debts")).map(n.prototype.handleApiJsonResponse.bind(this)).catch(n.prototype.handleApiError.bind(this))},l.prototype.getSuggestedPayments=function(l){return this.get(this.getRequesturl("/"+l+"/settleup")).map(n.prototype.handleApiJsonResponse.bind(this)).catch(n.prototype.handleApiError.bind(this))},l.prototype.getRequesturl=function(n){return""+this.apiUrl+n},l.ctorParameters=function(){return[{type:t.i},{type:r.a}]},l}(e.a)},C5vK:function(n,l,u){"use strict";u.d(l,"a",function(){return t});var t={EMPTY_COMPENSATION_ID:"Compensation ID is empty",EMPTY_EXPENSE_ID:"Expense ID is empty",EMPTY_GROUP_ID:"Group ID is empty",EMPTY_GROUP_NAME:"Group name is empty",NULL_GROUP:"Group is null",UNSUPPORTED_OPERATION:"Unsupported operation"}},CZpQ:function(n,l,u){"use strict";u.d(l,"a",function(){return t});var t=function(){function n(){}return n.convertStringToNumber=function(n,l){void 0===l&&(l=0);var u=parseFloat(n);return isNaN(u)?l:u},n}()},Cz9B:function(n,l,u){"use strict";var t=u("Rn4l");u.d(l,"a",function(){return e});var e=(t.a,t.b,t.c,function(){function n(){}return n}())},Dsky:function(n,l,u){"use strict";var t=u("CPp0");u.d(l,"a",function(){return r});var e=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var u in l)l.hasOwnProperty(u)&&(n[u]=l[u])};return function(l,u){function t(){this.constructor=l}n(l,u),l.prototype=null===u?Object.create(u):(t.prototype=u.prototype,new t)}}(),r=function(n){function l(l){var u=n.call(this,l)||this;return u.headers||(u.headers=new t.l),u}return e(l,n),l.prototype.merge=function(u){return new l(n.prototype.merge.call(this,u))},l.ctorParameters=function(){return[{type:void 0}]},l}(t.g)},"E/tm":function(n,l,u){"use strict";u.d(l,"a",function(){return t});var t=[""]},FCMx:function(n,l,u){"use strict";var t=u("yYYf"),e=u("bKpL"),r=(u.n(e),u("zzQC")),o=u("yFnZ"),i=u("FVX+"),a=u("C5vK");u.d(l,"a",function(){return s});var s=function(){function n(n){this.compensationResource=n}return n.prototype.getCompensations=function(n){try{i.a.validateGroupId(n)}catch(n){return e.Observable.throw(n)}return this.compensationResource.getCompensations(n).map(function(n){var l=[];return n.forEach(function(n){l.push(r.a.fromDto(n))}),l}).catch(function(n){return e.Observable.throw(n)})},n.prototype.getCompensation=function(n,l){try{i.a.validateGroupId(n),i.a.validateCompensationId(l)}catch(n){return e.Observable.throw(n)}return this.compensationResource.getCompensation(n,l).map(function(n){return r.a.fromDto(n)}).catch(function(n){return e.Observable.throw(n)})},n.prototype.saveCompensation=function(n,l,u){try{i.a.validateGroupId(n),u===o.a.EDIT&&i.a.validateCompensationId(l.id)}catch(n){return e.Observable.throw(n)}var t;if(u===o.a.CREATE)t=this.compensationResource.createCompensation(n,l);else{if(u!==o.a.EDIT)return e.Observable.throw(new Error(a.a.UNSUPPORTED_OPERATION));t=this.compensationResource.updateExpense(n,l)}return t.map(function(n){return r.a.fromDto(n)}).catch(function(n){return e.Observable.throw(n)})},n.prototype.deleteCompensation=function(n,l){try{i.a.validateGroupId(n),i.a.validateCompensationId(l)}catch(n){return e.Observable.throw(n)}return this.compensationResource.deleteCompensation(n,l)},n.ctorParameters=function(){return[{type:t.a}]},n}()},FPhM:function(n,l,u){"use strict";u.d(l,"a",function(){return t});var t=[""]},"FVX+":function(n,l,u){"use strict";var t=u("C5vK"),e=u("P3Et");u.d(l,"a",function(){return r});var r=function(){function n(){}return n.validateGroup=function(l){if(!l)throw new Error(t.a.NULL_GROUP);if(n.validateGroupId(l.id),n.validateGroupName(l.name),l.hasDuplicatePerson())throw new Error(e.a.PEOPLE_NAME_CONFLICT)},n.validateGroupId=function(n){if(!n)throw new Error(t.a.EMPTY_GROUP_ID)},n.validateGroupName=function(n){if(!n||!n.trim())throw new Error(t.a.EMPTY_GROUP_NAME)},n.validateExpenseId=function(n){if(!n)throw new Error(t.a.EMPTY_EXPENSE_ID)},n.validateCompensationId=function(n){if(!n)throw new Error(t.a.EMPTY_COMPENSATION_ID)},n}()},FZbv:function(n,l,u){"use strict";var t=u("bKpL"),e=(u.n(t),u("O+fl")),r=u("9pvU"),o=u("FVX+"),i=u("0Dbj"),a=u("zzQC");u.d(l,"a",function(){return s});var s=function(){function n(n,l){this.groupResourceService=n,this.personResourceService=l}return n.prototype.createGroup=function(n){try{o.a.validateGroupName(n)}catch(n){return t.Observable.throw(n)}return this.groupResourceService.createGroup(n).map(function(n){return r.b.fromDto(n)}).catch(function(n){return t.Observable.throw(n)})},n.prototype.getGroup=function(n){try{o.a.validateGroupId(n)}catch(n){return t.Observable.throw(n)}return this.groupResourceService.getGroup(n).map(function(n){return r.b.fromDto(n)}).catch(function(n){return t.Observable.throw(n)})},n.prototype.updateGroup=function(n,l){var u=this;try{o.a.validateGroup(n)}catch(n){return t.Observable.throw(n)}var e=[],i=[],a=[],s=l.getPeopleAsMap();n.people.forEach(function(l){if(s.has(l.id)){s.get(l.id).name!==l.name&&i.push(u.personResourceService.updatePerson(n.id,l.id,l.name)),s.delete(l.id)}else e.push(u.personResourceService.createPerson(n.id,l.name))}),s.forEach(function(l,t){a.push(u.personResourceService.deletePerson(n.id,t))});var c=this.groupResourceService.updateGroup(n.id,n.name,n.currency);return t.Observable.zip(c,e.length?t.Observable.forkJoin.apply(t.Observable,e):t.Observable.of([]),i.length?t.Observable.forkJoin.apply(t.Observable,i):t.Observable.of([]),a.length?t.Observable.forkJoin.apply(t.Observable,a):t.Observable.of([]),function(n){return r.b.fromDto(n)})},n.prototype.deleteGroup=function(n){try{o.a.validateGroupId(n)}catch(n){return t.Observable.throw(n)}return this.groupResourceService.deleteGroup(n)},n.prototype.getDebts=function(n){try{o.a.validateGroupId(n)}catch(n){return t.Observable.throw(n)}return this.groupResourceService.getDebts(n).map(function(n){var l=[];return n.forEach(function(n){var u=i.a.fromDto(n);u.person.active&&l.push(u)}),l}).catch(function(n){return t.Observable.throw(n)})},n.prototype.getSuggestedPayments=function(n){try{o.a.validateGroupId(n)}catch(n){return t.Observable.throw(n)}return this.groupResourceService.getSuggestedPayments(n).map(function(n){var l=[];return n.forEach(function(n){l.push(a.a.fromDto(n))}),l}).catch(function(n){return t.Observable.throw(n)})},n.ctorParameters=function(){return[{type:e.a},{type:e.b}]},n}()},Fkr0:function(n,l,u){"use strict";function t(n){return o._25(0,[(n()(),o._26(0,null,null,1,"tylr-group-header",[],null,null,null,i.a,i.b)),o._27(245760,null,0,a.a,[s.a,c.a,p.a],null,null),(n()(),o._29(null,["\n"])),(n()(),o._26(16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),o._27(212992,null,0,_.y,[_.q,o.W,o.e,[8,null],o.T],null,null),(n()(),o._29(null,["\n"])),(n()(),o._26(0,null,null,1,"tylr-footer",[],null,null,null,d.a,d.b)),o._27(114688,null,0,f.a,[],null,null),(n()(),o._29(null,["\n"]))],function(n,l){n(l,1,0),n(l,4,0),n(l,7,0)},null)}function e(n){return o._25(0,[(n()(),o._26(0,null,null,1,"tylr-group",[],null,null,null,t,m)),o._27(49152,null,0,g.a,[],null,null)],null,null)}var r=u("FPhM"),o=u("/oeL"),i=u("bVyL"),a=u("XUA6"),s=u("NHX5"),c=u("wPMS"),p=u("WyQf"),_=u("BkNc"),d=u("vy9s"),f=u("4HqU"),g=u("s/PX");u.d(l,"a",function(){return v});var h=[r.a],m=o._24({encapsulation:0,styles:h,data:{}}),v=o._28("tylr-group",g.a,e,{},{},[])},FriQ:function(n,l,u){"use strict";function t(n){return o._25(0,[(n()(),o._26(0,null,null,17,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,l,u){var t=!0,e=n.component;if("submit"===l){t=!1!==o._33(n,2).onSubmit(u)&&t}if("reset"===l){t=!1!==o._33(n,2).onReset()&&t}if("ngSubmit"===l){t=!1!==e.loginGroup(o._33(n,2))&&t}return t},null,null)),o._27(16384,null,0,a.f,[],null,null),o._27(16384,[["loginGroupForm",4]],0,a.g,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),o._37(2048,null,a.h,null,[a.g]),o._27(16384,null,0,a.i,[a.h],null,null),(n()(),o._29(null,["\n\n  "])),(n()(),o._26(0,null,null,7,"input",[["id","groupId"],["name","groupId"],["placeholder","ID"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,u){var t=!0,e=n.component;if("input"===l){t=!1!==o._33(n,7)._handleInput(u.target.value)&&t}if("blur"===l){t=!1!==o._33(n,7).onTouched()&&t}if("compositionstart"===l){t=!1!==o._33(n,7)._compositionStart()&&t}if("compositionend"===l){t=!1!==o._33(n,7)._compositionEnd(u.target.value)&&t}if("ngModelChange"===l){t=!1!==(e.groupId=u)&&t}return t},null,null)),o._27(16384,null,0,a.j,[o.O,o.P,[2,a.k]],null,null),o._27(16384,null,0,a.l,[],{required:[0,"required"]},null),o._37(1024,null,a.m,function(n){return[n]},[a.l]),o._37(1024,null,a.n,function(n){return[n]},[a.j]),o._27(671744,null,0,a.o,[[2,a.h],[2,a.m],[8,null],[2,a.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),o._37(2048,null,a.p,null,[a.o]),o._27(16384,null,0,a.q,[a.p],null,null),(n()(),o._29(null,["\n\n  "])),(n()(),o._26(0,null,null,1,"button",[["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),o._29(null,["\n    Login\n  "])),(n()(),o._29(null,["\n\n"])),(n()(),o._29(null,["\n"])),(n()(),o._26(0,null,null,1,"span",[["class","error"]],null,null,null,null,null)),(n()(),o._29(null,["",""])),(n()(),o._29(null,["\n"]))],function(n,l){var u=l.component;n(l,8,0,"");n(l,11,0,"groupId",u.groupId)},function(n,l){var u=l.component;n(l,0,0,o._33(l,4).ngClassUntouched,o._33(l,4).ngClassTouched,o._33(l,4).ngClassPristine,o._33(l,4).ngClassDirty,o._33(l,4).ngClassValid,o._33(l,4).ngClassInvalid,o._33(l,4).ngClassPending),n(l,6,0,o._33(l,8).required?"":null,o._33(l,13).ngClassUntouched,o._33(l,13).ngClassTouched,o._33(l,13).ngClassPristine,o._33(l,13).ngClassDirty,o._33(l,13).ngClassValid,o._33(l,13).ngClassInvalid,o._33(l,13).ngClassPending),n(l,15,0,!o._33(l,2).form.valid),n(l,20,0,u.response)})}function e(n){return o._25(0,[(n()(),o._26(0,null,null,1,"tylr-group-login",[],null,null,null,t,f)),o._27(114688,null,0,i.a,[s.a,c.a,p.a,_.a],null,null)],function(n,l){n(l,1,0)},null)}var r=u("Pytw"),o=u("/oeL"),i=u("wQe3"),a=u("bm2B"),s=u("FZbv"),c=u("WyQf"),p=u("wPMS"),_=u("NHX5");u.d(l,"b",function(){return f}),l.a=t;var d=[r.a],f=o._24({encapsulation:0,styles:d,data:{}});o._28("tylr-group-login",i.a,e,{},{},[])},Gydm:function(n,l,u){"use strict";var t=u("Hdtn");u.d(l,"a",function(){return e});var e=function(){function n(n,l,u,t){this.id=n,this.name=l,this.people=u,this.currency=t,this._fetchedTime=new Date}return n.fromDto=function(l){return new n(l.id,l.name,l.people?l.people.map(function(n){return t.a.fromDto(n)}):[],l.currency)},Object.defineProperty(n.prototype,"fetchedTime",{get:function(){return this._fetchedTime},enumerable:!0,configurable:!0}),n.prototype.toDto=function(){return{id:this.id,name:this.name}},n.prototype.clone=function(){return n.fromDto(JSON.parse(JSON.stringify(this)))},n.prototype.getPeopleAsMap=function(){var n=new Map;return this.people.forEach(function(l){n.set(l.id,l)}),n},n.prototype.hasDuplicatePerson=function(){var n=this.people.map(function(n){return n.name});n.sort();for(var l=0;l<n.length-1;l++)if(0===n[l].localeCompare(n[l+1]))return!0;return!1},n.prototype.isValid=function(){return this.id&&this.name&&this.currency&&!this.hasDuplicatePerson()},n}()},Hdtn:function(n,l,u){"use strict";u.d(l,"a",function(){return t});var t=function(){function n(n,l,u){void 0===u&&(u=!0),this.id=n,this.name=l,this.active=u}return n.fromDto=function(l){return new n(parseInt(l.id,10),l.name,l.active)},n.prototype.toDto=function(){return{id:this.id,name:this.name}},n}()},LpzL:function(n,l,u){"use strict";var t=u("/oeL"),e=u("o03F"),r=u("8dNA");u.d(l,"a",function(){return o});var o=function(){function n(n){if(n)throw new Error("CoreModule is already loaded. Import it in the AppModule only")}return n.forRoot=function(l){return{ngModule:n,providers:[e.a,e.b,r.a]}},n.ctorParameters=function(){return[{type:n,decorators:[{type:t.Z},{type:t._0}]}]},n}()},MjfJ:function(n,l,u){"use strict";var t=(u("/bDH"),u("ZZrM"));u.d(l,"a",function(){return t.b});u("jghB"),u("9pvU")},N5eQ:function(n,l,u){"use strict";var t=u("bKpL"),e=(u.n(t),u("FZbv")),r=u("WyQf"),o=u("wPMS"),i=u("NHX5");u.d(l,"a",function(){return a});var a=function(){function n(n,l,u,t){this.groupService=n,this.groupStorageService=l,this.logService=u,this.navigationService=t,this.MAX_CACHE_TIME=1e3}return n.prototype.resolve=function(n,l){var u=n.paramMap.get("id"),t=this.groupStorageService.getCurrentGroup();return t&&t.id===u?(new Date).getTime()-t.fetchedTime.getTime()<this.MAX_CACHE_TIME?t:(this.groupStorageService.removeCurrentGroup(),this.getGroup(t.id)):(this.groupStorageService.removeCurrentGroup(),this.getGroup(u))},n.prototype.getGroup=function(n){var l=this;return this.groupService.getGroup(n).map(function(n){return l.groupStorageService.storeGroup(n),n}).catch(function(u){return l.groupStorageService.removeRecentGroup(n),l.logService.error(u),l.navigationService.goHome(),t.Observable.of(null)})},n.ctorParameters=function(){return[{type:e.a},{type:r.a},{type:o.a},{type:i.a}]},n}()},NHX5:function(n,l,u){"use strict";var t=u("BkNc"),e=u("qbdv");u.d(l,"a",function(){return r});var r=function(){function n(n,l){this.router=n,this.location=l}return n.prototype.goToUrl=function(n){this.router.navigateByUrl(n)},n.prototype.goBack=function(){this.location.back()},n.prototype.goHome=function(){this.goToUrl("/")},n.prototype.goToDashboard=function(n){this.router.navigate(["/groups/",n])},n.prototype.goToGroupEdit=function(n){this.router.navigate(["/groups/",n,"edit"])},n.ctorParameters=function(){return[{type:t.a},{type:e.c}]},n}()},"O+fl":function(n,l,u){"use strict";var t=u("BVHc");u.d(l,"a",function(){return t.a});var e=u("+7s5");u.d(l,"b",function(){return e.a});var r=u("hbBc");u.d(l,"c",function(){return r.a});u("yYYf")},OSOh:function(n,l,u){"use strict";var t=u("o03F");u.d(l,"a",function(){return t.a}),u.d(l,"b",function(){return t.b})},P3Et:function(n,l,u){"use strict";u.d(l,"a",function(){return t});var t={NOT_AUTHORIZED_TO_GROUP:"Access denied to the group",PERSON_NOT_FOUND:"Person is not found",PAYER_NOT_FOUND:"Payer is not found",PROFITEER_NOT_FOUND:"Profiteer is not found",TRANSACTION_NOT_FOUND:"Transaction is not found",SHARES_DONT_ADD_UP:"Oh snap! That doesn't add up yet",PEOPLE_NAME_CONFLICT:"Sorry, names in a group cannot be the same",PAYER_AND_ROFITEER_CONFLICT:"Payer and profiteer cannot be the same person",PAYER_INACTIVE:"Payer is not active",PROFITEER_INACTIVE:"Profiteer is not active",CURRENCY_NOT_VALID:"Unsupported currency",PERSON_HAS_UNSETTLED_DEBTS:"Person has unsettled debts and cannot be deleted",GENERAL_SERVER_ERROR:"Oops. Something went wrong, try to reload the page and try again. If it still doesn't work, contact us"}},Pytw:function(n,l,u){"use strict";u.d(l,"a",function(){return t});var t=[""]},Rn4l:function(n,l,u){"use strict";var t=u("smNJ");u.d(l,"c",function(){return t.a});var e=u("+uYS");u.d(l,"b",function(){return e.a});var r=u("fKQ5");u.d(l,"a",function(){return r.a})},T2Au:function(n,l,u){"use strict";u.d(l,"a",function(){return t});var t=function(){function n(){}return n}()},T86r:function(n,l,u){"use strict";u.d(l,"a",function(){return t});var t=['footer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{text-align:center}footer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0}footer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]:before{content:" | "}footer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline}']},Uo79:function(n,l,u){"use strict";var t=u("tng+");u.d(l,"a",function(){return t.a})},WIp3:function(n,l,u){"use strict";var t=u("OSOh"),e=u("9pvU"),r=u("ZZrM"),o=u("WyQf"),i=u("BkNc"),a=u("P3Et");u.d(l,"a",function(){return s});var s=function(){function n(n,l,u,t,e){this.groupService=n,this.groupStorageService=l,this.logService=u,this.navigationService=t,this.route=e,this.NAME="GroupEditComponent",this.debts=new Map}return n.prototype.ngOnInit=function(){var n=this.route.snapshot.data.group,l=this.route.snapshot.queryParamMap.get("action");this.group=n.clone(),this.loadDebts(),"add"===l&&this.addPerson()},n.prototype.loadDebts=function(){var n=this;this.groupService.getDebts(this.group.id).subscribe(function(l){l.forEach(function(l){n.debts.set(l.person.id,l.balance)})},function(l){return n.logService.error(l)})},n.prototype.saveGroup=function(n){var l=this;if(n.form.valid){var u=this.groupStorageService.getCurrentGroup();this.groupService.updateGroup(this.group,u).subscribe(function(n){l.navigationService.goToDashboard(n.id)},function(n){l.response=n.message,l.logService.error(n)})}return!1},n.prototype.delete=function(){var n=this,l=this.groupStorageService.getCurrentGroup().id;prompt("Are you sure that you want to delete the group?\nIf so, please enter the first 4 characters of the group id.")===l.substr(0,4)?this.groupService.deleteGroup(l).subscribe(function(u){n.groupStorageService.removeRecentGroup(l),n.navigationService.goHome()},function(l){n.logService.error(l,n.NAME)}):this.response="Delete confirmation failed"},n.prototype.addPerson=function(){this.group.people.push(new e.a)},n.prototype.deletePerson=function(n){var l=this.group.people[n];if(this.debts.has(l.id)&&0!==this.debts.get(l.id)){var u=a.a.PERSON_HAS_UNSETTLED_DEBTS;this.response=u.replace("Person",l.name)}else this.group.people.splice(n,1)},n.prototype.onCancel=function(){this.navigationService.goBack()},n.ctorParameters=function(){return[{type:r.a},{type:o.a},{type:t.b},{type:t.a},{type:i.b}]},n}()},"WS9+":function(n,l,u){"use strict";function t(n){return p._25(0,[(n()(),p._26(0,null,null,3,"option",[],[[8,"selected",0]],null,null,null,null)),p._27(147456,null,0,_.d,[p.P,p.O,[8,null]],{value:[0,"value"]},null),p._27(147456,null,0,_.e,[p.P,p.O,[8,null]],{value:[0,"value"]},null),(n()(),p._29(null,["\n            ","\n          "]))],function(n,l){n(l,1,0,p._36(1,"",l.context.$implicit.id,"")),n(l,2,0,p._36(1,"",l.context.$implicit.id,""))},function(n,l){var u=l.component;n(l,0,0,l.context.$implicit.id==u.compensation.payer.id),n(l,3,0,l.context.$implicit.name)})}function e(n){return p._25(0,[(n()(),p._26(0,null,null,15,"div",[["class","small-12 medium-4 large-3 xxlarge-2 column"]],null,[[null,"click"]],function(n,l,u){var t=!0,e=n.component;if("click"===l){t=!1!==e.toggleIsInvolved(n.parent.context.$implicit)&&t}return t},null,null)),(n()(),p._29(null,["\n        "])),(n()(),p._26(0,null,null,12,"div",[["class","card person row"],["name","person"]],null,null,null,null,null)),p._27(278528,null,0,d.l,[p.l,p.n,p.P,p.O],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),p._31(["disabled"]),(n()(),p._29(null,["\n          "])),(n()(),p._26(0,null,null,1,"h3",[["class","name small-12"]],null,null,null,null,null)),(n()(),p._29(null,["",""])),(n()(),p._29(null,["\n          "])),(n()(),p._26(0,null,null,1,"span",[["class","currency small-12"]],null,null,null,null,null)),(n()(),p._29(null,["",""])),(n()(),p._29(null,["\n          "])),(n()(),p._26(0,null,null,1,"input",[["class","value small-12"],["disabled",""],["type","number"]],[[8,"value",0]],null,null,null,null)),p._30(1),(n()(),p._29(null,["\n        "])),(n()(),p._29(null,["\n      "]))],function(n,l){var u=l.component;n(l,3,0,"card person row",n(l,4,0,l.parent.context.$implicit.id!=u.compensation.profiteer.id))},function(n,l){var u=l.component;n(l,7,0,l.parent.context.$implicit.name),n(l,10,0,u.group.currency),n(l,12,0,p._36(1,"",l.parent.context.$implicit.id==u.compensation.profiteer.id?p._32(l,12,0,n(l,13,0,p._33(l.parent.parent.parent,0),u.compensation.amountDecimal)):0,""))})}function r(n){return p._25(0,[(n()(),p._26(0,null,null,4,null,null,null,null,null,null,null)),(n()(),p._29(null,["\n      "])),(n()(),p._34(16777216,null,null,1,null,e)),p._27(16384,null,0,d.n,[p.W,p._7],{ngIf:[0,"ngIf"]},null),(n()(),p._29(null,["\n    "]))],function(n,l){var u=l.component;n(l,3,0,l.context.$implicit.id!=u.compensation.payer.id)},null)}function o(n){return p._25(0,[(n()(),p._26(0,null,null,4,"section",[["class","row align-center"]],null,null,null,null,null)),(n()(),p._29(null,["\n    "])),(n()(),p._26(0,null,null,1,"span",[["class","error align-center"]],null,null,null,null,null)),(n()(),p._29(null,["",""])),(n()(),p._29(null,["\n  "]))],null,function(n,l){n(l,3,0,l.component.response)})}function i(n){return p._25(0,[(n()(),p._26(0,null,null,51,"form",[["class","payment"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,l,u){var t=!0,e=n.component;if("submit"===l){t=!1!==p._33(n,2).onSubmit(u)&&t}if("reset"===l){t=!1!==p._33(n,2).onReset()&&t}if("ngSubmit"===l){t=!1!==e.saveCompensation(p._33(n,2))&&t}return t},null,null)),p._27(16384,null,0,_.f,[],null,null),p._27(16384,[["compensationForm",4]],0,_.g,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),p._37(2048,null,_.h,null,[_.g]),p._27(16384,null,0,_.i,[_.h],null,null),(n()(),p._29(null,["\n  "])),(n()(),p._26(0,null,null,26,"section",[["class","row align-center"]],null,null,null,null,null)),(n()(),p._29(null,["\n    "])),(n()(),p._26(0,null,null,11,"div",[["class","small-12 medium-2 column"]],null,null,null,null,null)),(n()(),p._29(null,["\n      "])),(n()(),p._26(0,null,null,8,"label",[],null,null,null,null,null)),(n()(),p._29(null,["\n        "])),(n()(),p._26(0,null,null,1,"span",[["class","currency"]],null,null,null,null,null)),(n()(),p._29(null,["",""])),(n()(),p._29(null,["\n        "])),(n()(),p._26(0,null,null,2,"input",[["name","amount"],["placeholder","0.00"],["required",""],["type","number"]],[[8,"value",0]],[[null,"change"],[null,"keyup"]],function(n,l,u){var t=!0,e=n.component;if("change"===l){t=!1!==e.updateTotalAmount(e.compensation.amountDecimal)&&t}if("keyup"===l){t=!1!==e.onTotalAmountChanged(u.target.value)&&t}return t},null,null)),p._27(278528,null,0,d.l,[p.l,p.n,p.P,p.O],{ngClass:[0,"ngClass"]},null),p._31(["error"]),(n()(),p._29(null,["\n      "])),(n()(),p._29(null,["\n    "])),(n()(),p._29(null,["\n    "])),(n()(),p._26(0,null,null,10,"div",[["class","small-12 medium-3 column"]],null,null,null,null,null)),(n()(),p._29(null,["\n      "])),(n()(),p._26(0,null,null,7,"label",[],null,null,null,null,null)),(n()(),p._29(null,["from\n        "])),(n()(),p._26(0,null,null,4,"select",[],null,[[null,"change"]],function(n,l,u){var t=!0,e=n.component;if("change"===l){t=!1!==e.onPayerChanged(u.target.value)&&t}return t},null,null)),(n()(),p._29(null,["\n          "])),(n()(),p._34(16777216,null,null,1,null,t)),p._27(802816,null,0,d.m,[p.W,p._7,p.l],{ngForOf:[0,"ngForOf"]},null),(n()(),p._29(null,["\n        "])),(n()(),p._29(null,["\n      "])),(n()(),p._29(null,["\n    "])),(n()(),p._29(null,["\n  "])),(n()(),p._29(null,["\n\n  "])),(n()(),p._26(0,null,null,4,"section",[["class","row align-center"]],null,null,null,null,null)),(n()(),p._29(null,["\n\n    "])),(n()(),p._34(16777216,null,null,1,null,r)),p._27(802816,null,0,d.m,[p.W,p._7,p.l],{ngForOf:[0,"ngForOf"]},null),(n()(),p._29(null,["\n  "])),(n()(),p._29(null,["\n\n  "])),(n()(),p._34(16777216,null,null,1,null,o)),p._27(16384,null,0,d.n,[p.W,p._7],{ngIf:[0,"ngIf"]},null),(n()(),p._29(null,["\n\n  "])),(n()(),p._26(0,null,null,7,"section",[["class","row align-center"]],null,null,null,null,null)),(n()(),p._29(null,["\n    "])),(n()(),p._26(0,null,null,4,"div",[["class","small-12 medium-4 column"]],null,null,null,null,null)),(n()(),p._29(null,["\n      "])),(n()(),p._26(0,null,null,1,"button",[["class","big"]],[[8,"disabled",0]],null,null,null,null)),(n()(),p._29(null,["Save\n        Compensation\n      "])),(n()(),p._29(null,["\n    "])),(n()(),p._29(null,["\n  "])),(n()(),p._29(null,["\n"]))],function(n,l){var u=l.component;n(l,16,0,n(l,17,0,u.compensation.amountDecimal<=0)),n(l,28,0,u.group.people),n(l,37,0,u.group.people),n(l,41,0,u.response)},function(n,l){var u=l.component;n(l,0,0,p._33(l,4).ngClassUntouched,p._33(l,4).ngClassTouched,p._33(l,4).ngClassPristine,p._33(l,4).ngClassDirty,p._33(l,4).ngClassValid,p._33(l,4).ngClassInvalid,p._33(l,4).ngClassPending),n(l,13,0,u.group.currency),n(l,15,0,p._36(1,"",u.totalAmount,"")),n(l,47,0,p._33(l,2).invalid||!u.compensation.isValid())})}function a(n){return p._25(0,[p._35(0,f.a,[]),(n()(),p._34(16777216,null,null,1,null,i)),p._27(16384,null,0,d.n,[p.W,p._7],{ngIf:[0,"ngIf"]},null),(n()(),p._29(null,["\n"]))],function(n,l){n(l,2,0,l.component.compensation)},null)}function s(n){return p._25(0,[(n()(),p._26(0,null,null,1,"tylr-compensation",[],null,null,null,a,b)),p._27(114688,null,0,g.a,[h.b,m.a,v.a],null,null)],function(n,l){n(l,1,0)},null)}var c=u("5glg"),p=u("/oeL"),_=u("bm2B"),d=u("qbdv"),f=u("cVHN"),g=u("kQRT"),h=u("BkNc"),m=u("FCMx"),v=u("NHX5");u.d(l,"a",function(){return P});var y=[c.a],b=p._24({encapsulation:0,styles:y,data:{}}),P=p._28("tylr-compensation",g.a,s,{},{},[])},WyQf:function(n,l,u){"use strict";var t=u("/oeL"),e=u("OSOh"),r=u("/nEh");u.d(l,"a",function(){return o});var o=function(){function n(n){this.logService=n,this.NAME="GroupStorageService",this.RECENT_GROUPS="recent-groups",this.RECENT_GROUPS_SCHEMA={key:"recent-groups-schema",value:"1"},this.LIMIT_RECENT_GROUPS=3,this.onCurrentGroupChanged=new t.V,this.recentGroups=new Map,this.onRecentGroupsChanged=new t.V,localStorage.getItem(this.RECENT_GROUPS_SCHEMA.key)===this.RECENT_GROUPS_SCHEMA.value?this.recentGroups=this.getRecentGroupsFromStorage():(localStorage.removeItem(this.RECENT_GROUPS),localStorage.setItem(this.RECENT_GROUPS_SCHEMA.key,this.RECENT_GROUPS_SCHEMA.value),this.setRecentGroups(this.recentGroups))}return n.prototype.storeGroup=function(n){this.storeCurrentGroup(n),this.recentGroups.set(n.id,new r.a(n.id,n.name,n.fetchedTime)),this.setRecentGroups(this.recentGroups)},n.prototype.storeCurrentGroup=function(n){this.currentGroup=n,this.onCurrentGroupChanged.emit(this.currentGroup)},n.prototype.getRecentGroup=function(n){return this.recentGroups.get(n)},n.prototype.getCurrentGroup=function(){return this.currentGroup},n.prototype.removeRecentGroup=function(n){this.recentGroups.delete(n),this.setRecentGroups(this.recentGroups)},n.prototype.removeCurrentGroup=function(n){void 0===n&&(n=!1),this.currentGroup&&(n&&this.removeRecentGroup(this.currentGroup.id),this.currentGroup=null,this.logService.debug("current group is removed from storage",this.NAME),this.onCurrentGroupChanged.emit(this.currentGroup))},n.prototype.getRecentGroups=function(){for(var n=this.recentGroups.values(),l=n.next(),u=[];l.value;)u.push(r.a.fromDto(l.value)),l=n.next();return this.sortRecentGroups(u).slice(0,this.LIMIT_RECENT_GROUPS)},n.prototype.getRecentGroupsFromStorage=function(){return this.stringToMap(localStorage.getItem(this.RECENT_GROUPS))},n.prototype.setRecentGroups=function(n){localStorage.setItem(this.RECENT_GROUPS,this.mapToString(n)),this.onRecentGroupsChanged.emit(this.getRecentGroups())},n.prototype.mapToString=function(n){return JSON.stringify(Array.from(n.entries()))},n.prototype.stringToMap=function(n){return new Map(JSON.parse(n))},n.prototype.sortRecentGroups=function(n){return n.sort(function(n,l){return l.fetchedTime.getTime()-n.fetchedTime.getTime()})},n.ctorParameters=function(){return[{type:e.b}]},n}()},X2gW:function(n,l,u){"use strict";u.d(l,"a",function(){return t});var t=["[_ngcontent-%COMP%]:focus{outline:none}header[_ngcontent-%COMP%]{margin-top:2em;margin-bottom:3em}@media screen and (min-width:40em){header[_ngcontent-%COMP%]{margin-top:4em}}header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:3em}header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;vertical-align:bottom;font-size:3rem;line-height:1;margin-bottom:0}@media screen and (max-width:39.9375em){header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]{margin-bottom:1em}}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-align:left;margin:0}@media print,screen and (min-width:40em){header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-align:right}}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline;margin-right:1.5em}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#bcbcbc}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#848c97}"]},XUA6:function(n,l,u){"use strict";var t=u("MjfJ"),e=u("OSOh");u.d(l,"a",function(){return r});var r=function(){function n(n,l,u){this.navigationService=n,this.logService=l,this.groupStorageService=u,this.NAME="GroupHeaderComponent",this.recentGroups=[]}return n.prototype.ngOnInit=function(){var n=this;this.setRecentGroups(this.groupStorageService.getRecentGroups()),this.recentGroupsSubscription=this.groupStorageService.onRecentGroupsChanged.subscribe(function(l){return n.setRecentGroups(l)},function(l){return n.logService.error(l,n.NAME)}),this.currentGroup=this.groupStorageService.getCurrentGroup(),this.groupSubscription=this.groupStorageService.onCurrentGroupChanged.subscribe(function(l){l&&(n.currentGroup=l)})},n.prototype.setRecentGroups=function(n){this.recentGroups=n.sort(function(n,l){return n.name.localeCompare(l.name)})},n.prototype.edit=function(){this.navigationService.goToGroupEdit(this.groupStorageService.getCurrentGroup().id)},n.prototype.logout=function(){this.groupStorageService.removeRecentGroup(this.groupStorageService.getCurrentGroup().id),this.navigationService.goHome()},n.prototype.ngOnDestroy=function(){this.recentGroupsSubscription.unsubscribe()},n.ctorParameters=function(){return[{type:e.a},{type:e.b},{type:t.a}]},n}()},Y8ja:function(n,l,u){"use strict";var t=u("FZbv"),e=u("BkNc"),r=u("OSOh"),o=u("FCMx"),i=u("yFnZ");u.d(l,"a",function(){return a});var a=function(){function n(n,l,u,t,e){this.route=n,this.groupService=l,this.logService=u,this.navigationService=t,this.compensationService=e,this.compensations=[],this.isPaid=[],this.helpHidden=!0}return n.prototype.ngOnInit=function(){this.group=this.route.snapshot.data.group,this.loadSuggestedPayments()},n.prototype.loadSuggestedPayments=function(){var n=this;this.groupService.getSuggestedPayments(this.group.id).subscribe(function(l){return n.compensations=l},function(l){return n.logService.error(l)})},n.prototype.pay=function(n){var l=this,u=this.compensations[n];this.compensationService.saveCompensation(this.group.id,u,i.a.CREATE).map(function(){l.isPaid[n]=!0}).delay(2e3).subscribe(function(){l.compensations.splice(n,1),l.isPaid.splice(n,1)},function(n){return l.message=n.message})},n.prototype.onCancel=function(){this.navigationService.goBack()},n.prototype.toggleHelp=function(){this.helpHidden=!this.helpHidden},n.ctorParameters=function(){return[{type:e.b},{type:t.a},{type:r.b},{type:r.a},{type:o.a}]},n}()},ZZrM:function(n,l,u){"use strict";var t=u("FZbv");u.d(l,"a",function(){return t.a});var e=u("WyQf");u.d(l,"b",function(){return e.a});var r=(u("N5eQ"),u("g6XM"));u.d(l,"c",function(){return r.a})},"aR8+":function(n,l,u){"use strict";u.d(l,"a",function(){return t});var t=function(){function n(){}return n}()},au0W:function(n,l,u){"use strict";u.d(l,"a",function(){return t});var t=[".last-transactions[_ngcontent-%COMP%]{font-size:1.2em}"]},bVyL:function(n,l,u){"use strict";function t(n){return i._25(0,[(n()(),i._26(0,null,null,7,"li",[],null,null,null,null,null)),i._27(278528,null,0,a.l,[i.l,i.n,i.P,i.O],{ngClass:[0,"ngClass"]},null),i._31(["active"]),(n()(),i._29(null,["\n              "])),(n()(),i._26(0,null,null,2,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,u){var t=!0;if("click"===l){t=!1!==i._33(n,5).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&t}return t},null,null)),i._27(671744,null,0,s.z,[s.a,s.b,a.e],{routerLink:[0,"routerLink"]},null),(n()(),i._29(null,["",""])),(n()(),i._29(null,["\n            "]))],function(n,l){var u=l.component;n(l,1,0,n(l,2,0,l.context.$implicit.id===u.currentGroup.id)),n(l,5,0,i._36(1,"/groups/",l.context.$implicit.id,""))},function(n,l){n(l,4,0,i._33(l,5).target,i._33(l,5).href),n(l,6,0,l.context.$implicit.name)})}function e(n){return i._25(0,[(n()(),i._26(0,null,null,41,"header",[["class","row align-bottom"]],null,null,null,null,null)),(n()(),i._29(null,["\n  "])),(n()(),i._26(0,null,null,7,"div",[["class","small-12 large-4 column header-container"]],null,[[null,"click"]],function(n,l,u){var t=!0;if("click"===l){t=!1!==i._33(n,3).onClick()&&t}return t},null,null)),i._27(16384,null,0,s.A,[s.a,s.b,[8,null],i.O,i.P],{routerLink:[0,"routerLink"]},null),(n()(),i._29(null,["\n    "])),(n()(),i._26(0,null,null,0,"img",[["alt","Logo Teiler.io"],["class","logo"],["src","assets/logo.svg"]],null,null,null,null,null)),(n()(),i._29(null,["\n    "])),(n()(),i._26(0,null,null,1,"h1",[["class","title"]],null,null,null,null,null)),(n()(),i._29(null,["Teiler.io"])),(n()(),i._29(null,["\n  "])),(n()(),i._29(null,["\n  "])),(n()(),i._26(0,null,null,29,"div",[["class","content small-12 large-8 column"]],null,null,null,null,null)),(n()(),i._29(null,["\n    "])),(n()(),i._26(0,null,null,26,"div",[["class","row"]],null,null,null,null,null)),(n()(),i._29(null,["\n      "])),(n()(),i._26(0,null,null,10,"nav",[["class","main column"]],null,null,null,null,null)),(n()(),i._29(null,["\n        "])),(n()(),i._26(0,null,null,7,"div",[],null,null,null,null,null)),(n()(),i._29(null,["\n          "])),(n()(),i._26(0,null,null,4,"ul",[],null,null,null,null,null)),(n()(),i._29(null,["\n            "])),(n()(),i._34(16777216,null,null,1,null,t)),i._27(802816,null,0,a.m,[i.W,i._7,i.l],{ngForOf:[0,"ngForOf"]},null),(n()(),i._29(null,["\n          "])),(n()(),i._29(null,["\n        "])),(n()(),i._29(null,["\n      "])),(n()(),i._29(null,["\n      "])),(n()(),i._26(0,null,null,11,"div",[["class","shrink column"]],null,null,null,null,null)),(n()(),i._29(null,["\n        "])),(n()(),i._26(0,null,null,3,"a",[],null,[[null,"click"]],function(n,l,u){var t=!0,e=n.component;if("click"===l){t=!1!==e.edit()&&t}return t},null,null)),(n()(),i._29(null,["\n          "])),(n()(),i._26(0,null,null,0,"img",[["src","assets/settings.svg"]],null,null,null,null,null)),(n()(),i._29(null,["\n        "])),(n()(),i._29(null,["\n        "])),(n()(),i._26(0,null,null,3,"a",[],null,[[null,"click"]],function(n,l,u){var t=!0,e=n.component;if("click"===l){t=!1!==e.logout()&&t}return t},null,null)),(n()(),i._29(null,["\n          "])),(n()(),i._26(0,null,null,0,"img",[["src","assets/logout.svg"]],null,null,null,null,null)),(n()(),i._29(null,["\n        "])),(n()(),i._29(null,["\n      "])),(n()(),i._29(null,["\n    "])),(n()(),i._29(null,["\n  "])),(n()(),i._29(null,["\n"])),(n()(),i._29(null,["\n"]))],function(n,l){var u=l.component;n(l,3,0,i._36(1,"/groups/",u.currentGroup.id,"")),n(l,22,0,u.recentGroups)},null)}function r(n){return i._25(0,[(n()(),i._26(0,null,null,1,"tylr-group-header",[],null,null,null,e,g)),i._27(245760,null,0,c.a,[p.a,_.a,d.a],null,null)],function(n,l){n(l,1,0)},null)}var o=u("X2gW"),i=u("/oeL"),a=u("qbdv"),s=u("BkNc"),c=u("XUA6"),p=u("NHX5"),_=u("wPMS"),d=u("WyQf");u.d(l,"b",function(){return g}),l.a=e;var f=[o.a],g=i._24({encapsulation:0,styles:f,data:{}});i._28("tylr-group-header",c.a,r,{},{},[])},c1hy:function(n,l,u){"use strict";function t(n){return c._25(0,[(n()(),c._26(0,null,null,3,"option",[],[[8,"selected",0]],null,null,null,null)),c._27(147456,null,0,p.d,[c.P,c.O,[8,null]],{value:[0,"value"]},null),c._27(147456,null,0,p.e,[c.P,c.O,[8,null]],{value:[0,"value"]},null),(n()(),c._29(null,["\n            ","\n          "]))],function(n,l){n(l,1,0,c._36(1,"",l.context.$implicit.id,"")),n(l,2,0,c._36(1,"",l.context.$implicit.id,""))},function(n,l){var u=l.component;n(l,0,0,l.context.$implicit.id==u.expense.payer.id),n(l,3,0,l.context.$implicit.name)})}function e(n){return c._25(0,[(n()(),c._26(0,null,null,18,"div",[["class","small-12 medium-4 large-3 xxlarge-2 column"]],null,[[null,"click"]],function(n,l,u){var t=!0,e=n.component;if("click"===l){t=!1!==e.toggleIsInvolved(u,n.context.$implicit)&&t}return t},null,null)),(n()(),c._29(null,["\n      "])),(n()(),c._26(0,null,null,15,"div",[["class","card person"],["name","person"]],null,null,null,null,null)),c._27(278528,null,0,_.l,[c.l,c.n,c.P,c.O],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),c._31(["disabled"]),(n()(),c._29(null,["\n        "])),(n()(),c._26(0,null,null,1,"h3",[["class","name small-12"]],null,null,null,null,null)),(n()(),c._29(null,["",""])),(n()(),c._29(null,["\n        "])),(n()(),c._26(0,null,null,1,"span",[["class","currency small-12"]],null,null,null,null,null)),(n()(),c._29(null,["",""])),(n()(),c._29(null,["\n        "])),(n()(),c._26(0,null,null,0,"input",[["class","value small-12 shared-amount"],["type","number"]],[[8,"value",0],[8,"disabled",0]],[[null,"click"],[null,"change"]],function(n,l,u){var t=!0,e=n.component;if("click"===l){t=!1!==u.stopPropagation()&&t}if("change"===l){t=!1!==e.onSharedAmountChanged(u.target.value,n.context.$implicit)&&t}return t},null,null)),(n()(),c._29(null,["\n        "])),(n()(),c._26(0,null,null,2,"span",[["class","description"]],null,null,null,null,null)),(n()(),c._26(0,null,null,0,"input",[["disabled",""]],[[8,"value",0]],[[null,"click"]],function(n,l,u){var t=!0;if("click"===l){t=!1!==u.stopPropagation()&&t}return t},null,null)),(n()(),c._29(null,["\n          % of payment\n        "])),(n()(),c._29(null,["\n      "])),(n()(),c._29(null,["\n    "]))],function(n,l){n(l,3,0,"card person",n(l,4,0,!l.context.$implicit.isInvolved))},function(n,l){var u=l.component;n(l,7,0,l.context.$implicit.person.name),n(l,10,0,u.group.currency),n(l,12,0,c._36(1,"",l.context.$implicit.shareFormatted,""),!l.context.$implicit.isInvolved),n(l,15,0,c._36(1,"",l.context.$implicit.percentageFormatted,""))})}function r(n){return c._25(0,[(n()(),c._26(0,null,null,4,"section",[["class","row align-center"]],null,null,null,null,null)),(n()(),c._29(null,["\n    "])),(n()(),c._26(0,null,null,1,"span",[["class","error align-center"]],null,null,null,null,null)),(n()(),c._29(null,["",""])),(n()(),c._29(null,["\n  "]))],null,function(n,l){n(l,3,0,l.component.response)})}function o(n){return c._25(0,[(n()(),c._26(0,null,null,77,"form",[["class","payment"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,l,u){var t=!0,e=n.component;if("submit"===l){t=!1!==c._33(n,2).onSubmit(u)&&t}if("reset"===l){t=!1!==c._33(n,2).onReset()&&t}if("ngSubmit"===l){t=!1!==e.saveExpense(c._33(n,2))&&t}return t},null,null)),c._27(16384,null,0,p.f,[],null,null),c._27(16384,[["expenseForm",4]],0,p.g,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),c._37(2048,null,p.h,null,[p.g]),c._27(16384,null,0,p.i,[p.h],null,null),(n()(),c._29(null,["\n  "])),(n()(),c._26(0,null,null,43,"section",[["class","row align-center"]],null,null,null,null,null)),(n()(),c._29(null,["\n    "])),(n()(),c._26(0,null,null,11,"div",[["class","small-12 medium-2 column"]],null,null,null,null,null)),(n()(),c._29(null,["\n      "])),(n()(),c._26(0,null,null,8,"label",[],null,null,null,null,null)),(n()(),c._29(null,["\n        "])),(n()(),c._26(0,null,null,1,"span",[["class","currency"]],null,null,null,null,null)),(n()(),c._29(null,["",""])),(n()(),c._29(null,["\n        "])),(n()(),c._26(0,null,null,2,"input",[["min","0"],["name","amount"],["placeholder","0.00"],["required",""],["type","number"]],[[8,"value",0]],[[null,"change"],[null,"keyup"]],function(n,l,u){var t=!0,e=n.component;if("change"===l){t=!1!==e.updateTotalAmount(e.expense.amountDecimal)&&t}if("keyup"===l){t=!1!==e.onTotalAmountChanged(u.target.value)&&t}return t},null,null)),c._27(278528,null,0,_.l,[c.l,c.n,c.P,c.O],{ngClass:[0,"ngClass"]},null),c._31(["error"]),(n()(),c._29(null,["\n      "])),(n()(),c._29(null,["\n    "])),(n()(),c._29(null,["\n    "])),(n()(),c._26(0,null,null,10,"div",[["class","small-12 medium-3 column"]],null,null,null,null,null)),(n()(),c._29(null,["\n      "])),(n()(),c._26(0,null,null,7,"label",[],null,null,null,null,null)),(n()(),c._29(null,["from\n        "])),(n()(),c._26(0,null,null,4,"select",[],null,[[null,"change"]],function(n,l,u){var t=!0,e=n.component;if("change"===l){t=!1!==e.onPayerChanged(u.target.value)&&t}return t},null,null)),(n()(),c._29(null,["\n          "])),(n()(),c._34(16777216,null,null,1,null,t)),c._27(802816,null,0,_.m,[c.W,c._7,c.l],{ngForOf:[0,"ngForOf"]},null),(n()(),c._29(null,["\n        "])),(n()(),c._29(null,["\n      "])),(n()(),c._29(null,["\n    "])),(n()(),c._29(null,["\n\n    "])),(n()(),c._26(0,null,null,15,"div",[["class","small-12 medium-3 column"]],null,null,null,null,null)),(n()(),c._29(null,["\n      "])),(n()(),c._26(0,null,null,12,"label",[],null,null,null,null,null)),(n()(),c._29(null,["for\n        "])),(n()(),c._26(0,null,null,9,"input",[["name","title"],["placeholder","e.g. Bananas"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,u){var t=!0,e=n.component;if("input"===l){t=!1!==c._33(n,40)._handleInput(u.target.value)&&t}if("blur"===l){t=!1!==c._33(n,40).onTouched()&&t}if("compositionstart"===l){t=!1!==c._33(n,40)._compositionStart()&&t}if("compositionend"===l){t=!1!==c._33(n,40)._compositionEnd(u.target.value)&&t}if("ngModelChange"===l){t=!1!==(e.expense.title=u)&&t}return t},null,null)),c._27(278528,null,0,_.l,[c.l,c.n,c.P,c.O],{ngClass:[0,"ngClass"]},null),c._31(["error"]),c._27(16384,null,0,p.j,[c.O,c.P,[2,p.k]],null,null),c._27(16384,null,0,p.l,[],{required:[0,"required"]},null),c._37(1024,null,p.m,function(n){return[n]},[p.l]),c._37(1024,null,p.n,function(n){return[n]},[p.j]),c._27(671744,[["title",4]],0,p.o,[[2,p.h],[2,p.m],[8,null],[2,p.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c._37(2048,null,p.p,null,[p.o]),c._27(16384,null,0,p.q,[p.p],null,null),(n()(),c._29(null,["\n      "])),(n()(),c._29(null,["\n    "])),(n()(),c._29(null,["\n  "])),(n()(),c._29(null,["\n\n  "])),(n()(),c._26(0,null,null,4,"section",[["class","row align-center"]],null,null,null,null,null)),(n()(),c._29(null,["\n    "])),(n()(),c._34(16777216,null,null,1,null,e)),c._27(802816,null,0,_.m,[c.W,c._7,c.l],{ngForOf:[0,"ngForOf"]},null),(n()(),c._29(null,["\n  "])),(n()(),c._29(null,["\n\n  "])),(n()(),c._34(16777216,null,null,1,null,r)),c._27(16384,null,0,_.n,[c.W,c._7],{ngIf:[0,"ngIf"]},null),(n()(),c._29(null,["\n\n  "])),(n()(),c._26(0,null,null,7,"section",[["class","row align-center"]],null,null,null,null,null)),(n()(),c._29(null,["\n    "])),(n()(),c._26(0,null,null,4,"div",[["class","small-12 medium-2 column"]],null,null,null,null,null)),(n()(),c._29(null,["\n      "])),(n()(),c._26(0,null,null,1,"button",[["class","secondary"]],null,[[null,"click"]],function(n,l,u){var t=!0,e=n.component;if("click"===l){t=!1!==e.onResetSplitClick(u)&&t}return t},null,null)),(n()(),c._29(null,["Reset splitting\n      "])),(n()(),c._29(null,["\n    "])),(n()(),c._29(null,["\n  "])),(n()(),c._29(null,["\n  "])),(n()(),c._26(0,null,null,7,"section",[["class","row align-center"]],null,null,null,null,null)),(n()(),c._29(null,["\n    "])),(n()(),c._26(0,null,null,4,"div",[["class","small-12 medium-4 column"]],null,null,null,null,null)),(n()(),c._29(null,["\n      "])),(n()(),c._26(0,null,null,1,"button",[["class","big"]],[[8,"disabled",0]],null,null,null,null)),(n()(),c._29(null,["Save Expense\n      "])),(n()(),c._29(null,["\n    "])),(n()(),c._29(null,["\n  "])),(n()(),c._29(null,["\n"]))],function(n,l){var u=l.component;n(l,16,0,n(l,17,0,u.expense.amountDecimal<=0)),n(l,28,0,u.group.people),n(l,38,0,n(l,39,0,null==c._33(l,44).errors?null:c._33(l,44).errors.required));n(l,41,0,"");n(l,44,0,"title",u.expense.title),n(l,54,0,null==u.expense?null:u.expense.profiteers),n(l,58,0,u.response)},function(n,l){var u=l.component;n(l,0,0,c._33(l,4).ngClassUntouched,c._33(l,4).ngClassTouched,c._33(l,4).ngClassPristine,c._33(l,4).ngClassDirty,c._33(l,4).ngClassValid,c._33(l,4).ngClassInvalid,c._33(l,4).ngClassPending),n(l,13,0,u.group.currency),n(l,15,0,c._36(1,"",u.totalAmount,"")),n(l,37,0,c._33(l,41).required?"":null,c._33(l,46).ngClassUntouched,c._33(l,46).ngClassTouched,c._33(l,46).ngClassPristine,c._33(l,46).ngClassDirty,c._33(l,46).ngClassValid,c._33(l,46).ngClassInvalid,c._33(l,46).ngClassPending),n(l,73,0,c._33(l,2).invalid||!u.expense.isValid())})}function i(n){return c._25(0,[(n()(),c._34(16777216,null,null,1,null,o)),c._27(16384,null,0,_.n,[c.W,c._7],{ngIf:[0,"ngIf"]},null),(n()(),c._29(null,["\n"]))],function(n,l){n(l,1,0,l.component.expense)},null)}function a(n){return c._25(0,[(n()(),c._26(0,null,null,1,"tylr-expense",[],null,null,null,i,v)),c._27(114688,null,0,d.a,[f.b,g.a,h.a],null,null)],function(n,l){n(l,1,0)},null)}var s=u("qkC6"),c=u("/oeL"),p=u("bm2B"),_=u("qbdv"),d=u("tJSj"),f=u("BkNc"),g=u("g6XM"),h=u("NHX5");u.d(l,"a",function(){return y});var m=[s.a],v=c._24({encapsulation:0,styles:m,data:{}}),y=c._28("tylr-expense",d.a,a,{},{},[])},cDNt:function(n,l,u){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var t=u("/oeL"),e=u("p5Ee"),r=u("fc+i"),o=u("+h1B");e.a.production&&u.i(t.a)(),u.i(r.a)().bootstrapModuleFactory(o.a)},cVHN:function(n,l,u){"use strict";u.d(l,"a",function(){return t});var t=function(){function n(){}return n.prototype.transform=function(n,l){return"string"==typeof n?n:"number"==typeof n?n.toFixed(2):null},n}()},eJ6V:function(n,l,u){"use strict";var t=u("kEJv"),e=u("Hdtn"),r=u("6HG9");u.d(l,"a",function(){return i});var o=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var u in l)l.hasOwnProperty(u)&&(n[u]=l[u])};return function(l,u){function t(){this.constructor=l}n(l,u),l.prototype=null===u?Object.create(u):(t.prototype=u.prototype,new t)}}(),i=function(n){function l(l,u,t,e,r,o,i){var a=n.call(this,l,u,t,o,i)||this;return a.title=e,a.profiteers=r,a}return o(l,n),l.fromDto=function(n){return new l(parseInt(n.id,10),e.a.fromDto(n.payer),parseInt(n.amount,10),n.title,n.profiteers.map(function(n){return r.a.fromDto(n)}),new Date(n["create-time"]),new Date(n["update-time"]))},l.prototype.splitEvenly=function(){var n=this,l=this.getTotalActiveProfiteers();if(l>0){var u=this.amount/l;this.profiteers.forEach(function(l){l.isInvolved&&n.updateProfiteer(l,u,!1)}),this.checkSumOfSharedAmount()||this.adjustSharedAmount()}},l.prototype.splitEvenlyAmongRestProfiteers=function(){var n=this,l=this.getTotalActiveProfiteers()-this.getTotalManuallyUpdatedProfiteers();if(l>0){var u=this.amount-this.getSumOfSharedAmount(),t=u/l;this.profiteers.forEach(function(l){l.isInvolved&&!l.isUpdatedManually&&n.updateProfiteer(l,l.share+t)}),this.checkSumOfSharedAmount()||this.adjustSharedAmount()}},l.prototype.adjustSharedAmount=function(){var n=this.amount-this.getSumOfSharedAmount(),l=this.getFirstActiveProfiteer();l&&this.updateProfiteer(l,l.share+n)},l.prototype.getFirstActiveProfiteer=function(){for(var n=0;n<this.profiteers.length;n++)if(this.profiteers[n].isInvolved&&!this.profiteers[n].isUpdatedManually)return this.profiteers[n];return null},l.prototype.getTotalActiveProfiteers=function(){return this.profiteers.reduce(function(n,l){return l.isInvolved?n+1:n},0)},l.prototype.getTotalManuallyUpdatedProfiteers=function(){return this.profiteers.reduce(function(n,l){return l.isInvolved&&l.isUpdatedManually?n+1:n},0)},l.prototype.checkSumOfSharedAmount=function(){return this.getSumOfSharedAmount()===this.amount},l.prototype.updatePercentage=function(){var n=this;this.profiteers.forEach(function(l){n.updateProfiteer(l)})},l.prototype.updateProfiteer=function(n,l,u){void 0!==l&&(n.share=l,void 0!==u&&(n.isUpdatedManually=u)),this.amount?n.setPercentageFormatted(n.share/this.amount*100):n.setPercentageFormatted(0)},l.prototype.getSumOfSharedAmount=function(){var n=0;return this.profiteers.forEach(function(l){n+=l.share}),n},l.prototype.isValid=function(){return this.title&&this.payer&&this.amount>0&&this.getTotalActiveProfiteers()>0&&this.checkSumOfSharedAmount()},l.prototype.fillProfiteers=function(n,l){var u=this;this.profiteers.forEach(function(l){n.delete(l.person.id)}),n.forEach(function(n){u.profiteers.push(new r.a(n,0,l))}),this.updatePercentage()},l}(t.a)},fKQ5:function(n,l,u){"use strict";u.d(l,"a",function(){return t});var t=function(){function n(){}return n.prototype.ngOnInit=function(){},n.ctorParameters=function(){return[]},n}()},g6XM:function(n,l,u){"use strict";var t=u("hbBc"),e=u("bKpL"),r=(u.n(e),u("eJ6V")),o=u("yFnZ"),i=u("C5vK"),a=u("FVX+");u.d(l,"a",function(){return s});var s=function(){function n(n){this.expenseResource=n}return n.prototype.getExpenses=function(n){try{a.a.validateGroupId(n)}catch(n){return e.Observable.throw(n)}return this.expenseResource.getExpenses(n).map(function(n){var l=[];return n.forEach(function(n){l.push(r.a.fromDto(n))}),l}).catch(function(n){return e.Observable.throw(n)})},n.prototype.getExpense=function(n,l){try{a.a.validateGroupId(n),a.a.validateExpenseId(l)}catch(n){return e.Observable.throw(n)}return this.expenseResource.getExpense(n,l).map(function(n){return r.a.fromDto(n)}).catch(function(n){return e.Observable.throw(n)})},n.prototype.saveExpense=function(n,l,u){try{a.a.validateGroupId(n),u===o.a.EDIT&&a.a.validateExpenseId(l.id)}catch(n){return e.Observable.throw(n)}var t;if(u===o.a.CREATE)t=this.expenseResource.createExpense(n,l);else{if(u!==o.a.EDIT)return e.Observable.throw(new Error(i.a.UNSUPPORTED_OPERATION));t=this.expenseResource.updateExpense(n,l)}return t.map(function(n){return r.a.fromDto(n)}).catch(function(n){return e.Observable.throw(n)})},n.prototype.deleteExpense=function(n,l){try{a.a.validateGroupId(n),a.a.validateExpenseId(l)}catch(n){return e.Observable.throw(n)}return this.expenseResource.deleteExpense(n,l)},n.ctorParameters=function(){return[{type:t.a}]},n}()},gOac:function(n,l,u){"use strict";var t=(u("T2Au"),u("r+lL"),u("Uo79"));u.d(l,"a",function(){return t.a})},hbBc:function(n,l,u){"use strict";var t=u("tng+"),e=u("CPp0"),r=u("yFnZ"),o=u("8dNA");u.d(l,"a",function(){return a});var i=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var u in l)l.hasOwnProperty(u)&&(n[u]=l[u])};return function(l,u){function t(){this.constructor=l}n(l,u),l.prototype=null===u?Object.create(u):(t.prototype=u.prototype,new t)}}(),a=function(n){function l(l,u){var t=n.call(this,l,u)||this;return t.apiUrl="groups/:groupId/expenses",t}return i(l,n),l.prototype.getExpenses=function(n){return this.handleResponse(this.get(this.getRequestUrl(n,"")))},l.prototype.getExpense=function(n,l){return this.handleResponse(this.get(this.getRequestUrl(n,"/"+l)))},l.prototype.createExpense=function(n,l){var u=this.buildSaveExpenseDto(l,r.a.CREATE);return this.handleResponse(this.post(this.getRequestUrl(n,""),u))},l.prototype.updateExpense=function(n,l){var u=this.buildSaveExpenseDto(l,r.a.EDIT);return this.handleResponse(this.put(this.getRequestUrl(n,"/"+l.id),u))},l.prototype.deleteExpense=function(n,l){return this.delete(this.getRequestUrl(n,"/"+l)).map(function(){return!0}).catch(this.handleApiError.bind(this))},l.prototype.getRequestUrl=function(n,l){return this.apiUrl.replace(":groupId",n)+l},l.prototype.handleResponse=function(n){return n.map(function(n){return n.json()}).catch(this.handleApiError.bind(this))},l.prototype.buildSaveExpenseDto=function(n,l){var u={title:n.title,amount:n.amount,payer:{id:n.payer.id},profiteers:[]};return l===r.a.EDIT&&(u.id=n.id),n.profiteers.forEach(function(n){n.isInvolved&&u.profiteers.push({person:{id:n.person.id},share:n.share})}),u},l.ctorParameters=function(){return[{type:e.i},{type:o.a}]},l}(t.a)},hyOo:function(n,l,u){"use strict";function t(n){return o._25(0,[(n()(),o._26(16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),o._27(212992,null,0,i.y,[i.q,o.W,o.e,[8,null],o.T],null,null),(n()(),o._29(null,["\n"]))],function(n,l){n(l,1,0)},null)}function e(n){return o._25(0,[(n()(),o._26(0,null,null,1,"tylr-welcome",[],null,null,null,t,c)),o._27(114688,null,0,a.a,[],null,null)],function(n,l){n(l,1,0)},null)}var r=u("jXDm"),o=u("/oeL"),i=u("BkNc"),a=u("fKQ5");u.d(l,"a",function(){return p});var s=[r.a],c=o._24({encapsulation:0,styles:s,data:{}}),p=o._28("tylr-welcome",a.a,e,{},{},[])},iRRl:function(n,l,u){"use strict";function t(n){return o._25(0,[(n()(),o._26(0,null,null,126,"form",[["class","payment"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,u){var t=!0;if("submit"===l){t=!1!==o._33(n,2).onSubmit(u)&&t}if("reset"===l){t=!1!==o._33(n,2).onReset()&&t}return t},null,null)),o._27(16384,null,0,i.f,[],null,null),o._27(16384,null,0,i.g,[[8,null],[8,null]],null,null),o._37(2048,null,i.h,null,[i.g]),o._27(16384,null,0,i.i,[i.h],null,null),(n()(),o._29(null,["\n  "])),(n()(),o._26(0,null,null,35,"section",[["class","row align-center"]],null,null,null,null,null)),(n()(),o._29(null,["\n    "])),(n()(),o._26(0,null,null,5,"div",[["class","small-12 medium-2 column"]],null,null,null,null,null)),(n()(),o._29(null,["\n      "])),(n()(),o._26(0,null,null,2,"label",[],null,null,null,null,null)),(n()(),o._29(null,["CHF\n        "])),(n()(),o._26(0,null,null,0,"input",[["placeholder","0.00"],["required",""],["type","number"]],null,null,null,null,null)),(n()(),o._29(null,["\n    "])),(n()(),o._29(null,["\n\n    "])),(n()(),o._26(0,null,null,17,"div",[["class","small-12 medium-3 column"]],null,null,null,null,null)),(n()(),o._29(null,["\n      "])),(n()(),o._26(0,null,null,14,"label",[],null,null,null,null,null)),(n()(),o._29(null,["from\n        "])),(n()(),o._26(0,null,null,11,"select",[],null,null,null,null,null)),(n()(),o._29(null,["\n          "])),(n()(),o._26(0,null,null,3,"option",[["value","1"]],null,null,null,null,null)),o._27(147456,null,0,i.d,[o.P,o.O,[8,null]],{value:[0,"value"]},null),o._27(147456,null,0,i.e,[o.P,o.O,[8,null]],{value:[0,"value"]},null),(n()(),o._29(null,["Demian"])),(n()(),o._29(null,["\n          "])),(n()(),o._26(0,null,null,3,"option",[["value","2"]],null,null,null,null,null)),o._27(147456,null,0,i.d,[o.P,o.O,[8,null]],{value:[0,"value"]},null),o._27(147456,null,0,i.e,[o.P,o.O,[8,null]],{value:[0,"value"]},null),(n()(),o._29(null,["Patrick"])),(n()(),o._29(null,["\n        "])),(n()(),o._29(null,["\n      "])),(n()(),o._29(null,["\n    "])),(n()(),o._29(null,["\n\n    "])),(n()(),o._26(0,null,null,6,"div",[["class","small-12 medium-3 column"]],null,null,null,null,null)),(n()(),o._29(null,["\n      "])),(n()(),o._26(0,null,null,3,"label",[],null,null,null,null,null)),(n()(),o._29(null,["for\n        "])),(n()(),o._26(0,null,null,0,"input",[["placeholder","e.g. Bananas"],["required",""],["type","text"]],null,null,null,null,null)),(n()(),o._29(null,["\n      "])),(n()(),o._29(null,["\n    "])),(n()(),o._29(null,["\n  "])),(n()(),o._29(null,["\n\n  "])),(n()(),o._26(0,null,null,73,"section",[["class","row align-center"]],null,null,null,null,null)),(n()(),o._29(null,["\n    "])),(n()(),o._26(0,null,null,16,"div",[["class","small-12 medium-2 column"]],null,null,null,null,null)),(n()(),o._29(null,["\n      "])),(n()(),o._26(0,null,null,13,"div",[["class","card person row"],["name","person"]],null,null,null,null,null)),(n()(),o._29(null,["\n        "])),(n()(),o._26(0,null,null,1,"h3",[["class","name small-12"]],null,null,null,null,null)),(n()(),o._29(null,["Demian"])),(n()(),o._29(null,["\n        "])),(n()(),o._26(0,null,null,1,"span",[["class","currency small-12"]],null,null,null,null,null)),(n()(),o._29(null,["CHF"])),(n()(),o._29(null,["\n        "])),(n()(),o._26(0,null,null,0,"input",[["class","value small-12"],["type","number"],["value","3.34"]],null,null,null,null,null)),(n()(),o._29(null,["\n        "])),(n()(),o._26(0,null,null,2,"span",[["class","description"]],null,null,null,null,null)),(n()(),o._26(0,null,null,0,"input",[["value","33"]],null,null,null,null,null)),(n()(),o._29(null,["% of payment"])),(n()(),o._29(null,["\n      "])),(n()(),o._29(null,["\n    "])),(n()(),o._29(null,["\n\n    "])),(n()(),o._26(0,null,null,16,"div",[["class","small-12 medium-2 column"]],null,null,null,null,null)),(n()(),o._29(null,["\n      "])),(n()(),o._26(0,null,null,13,"div",[["class","card person row"],["name","person"]],null,null,null,null,null)),(n()(),o._29(null,["\n        "])),(n()(),o._26(0,null,null,1,"h3",[["class","name small-12"]],null,null,null,null,null)),(n()(),o._29(null,["Kirthi"])),(n()(),o._29(null,["\n        "])),(n()(),o._26(0,null,null,1,"span",[["class","currency small-12"]],null,null,null,null,null)),(n()(),o._29(null,["CHF"])),(n()(),o._29(null,["\n        "])),(n()(),o._26(0,null,null,0,"input",[["class","value small-12"],["type","number"],["value","3.33"]],null,null,null,null,null)),(n()(),o._29(null,["\n        "])),(n()(),o._26(0,null,null,2,"span",[["class","description"]],null,null,null,null,null)),(n()(),o._26(0,null,null,0,"input",[["value","33"]],null,null,null,null,null)),(n()(),o._29(null,["% of payment"])),(n()(),o._29(null,["\n      "])),(n()(),o._29(null,["\n    "])),(n()(),o._29(null,["\n\n    "])),(n()(),o._26(0,null,null,16,"div",[["class","small-12 medium-2 column"]],null,null,null,null,null)),(n()(),o._29(null,["\n      "])),(n()(),o._26(0,null,null,13,"div",[["class","card person row"],["name","person"]],null,null,null,null,null)),(n()(),o._29(null,["\n        "])),(n()(),o._26(0,null,null,1,"h3",[["class","name small-12"]],null,null,null,null,null)),(n()(),o._29(null,["Patrick"])),(n()(),o._29(null,["\n        "])),(n()(),o._26(0,null,null,1,"span",[["class","currency small-12"]],null,null,null,null,null)),(n()(),o._29(null,["CHF"])),(n()(),o._29(null,["\n        "])),(n()(),o._26(0,null,null,0,"input",[["class","value small-12"],["type","number"],["value","3.33"]],null,null,null,null,null)),(n()(),o._29(null,["\n        "])),(n()(),o._26(0,null,null,2,"span",[["class","description"]],null,null,null,null,null)),(n()(),o._26(0,null,null,0,"input",[["value","33"]],null,null,null,null,null)),(n()(),o._29(null,["% of payment"])),(n()(),o._29(null,["\n      "])),(n()(),o._29(null,["\n    "])),(n()(),o._29(null,["\n\n    "])),(n()(),o._26(0,null,null,16,"div",[["class","small-12 medium-2 column"]],null,null,null,null,null)),(n()(),o._29(null,["\n      "])),(n()(),o._26(0,null,null,13,"div",[["class","card person disabled row"],["name","person"]],null,null,null,null,null)),(n()(),o._29(null,["\n        "])),(n()(),o._26(0,null,null,1,"h3",[["class","name small-12"]],null,null,null,null,null)),(n()(),o._29(null,["Lukas"])),(n()(),o._29(null,["\n        "])),(n()(),o._26(0,null,null,1,"span",[["class","currency small-12"]],null,null,null,null,null)),(n()(),o._29(null,["CHF"])),(n()(),o._29(null,["\n        "])),(n()(),o._26(0,null,null,0,"input",[["class","value small-12"],["type","number"],["value","0.00"]],null,null,null,null,null)),(n()(),o._29(null,["\n        "])),(n()(),o._26(0,null,null,2,"span",[["class","description"]],null,null,null,null,null)),(n()(),o._26(0,null,null,0,"input",[["value","0"]],null,null,null,null,null)),(n()(),o._29(null,["% of payment"])),(n()(),o._29(null,["\n      "])),(n()(),o._29(null,["\n    "])),(n()(),o._29(null,["\n  "])),(n()(),o._29(null,["\n\n  "])),(n()(),o._26(0,null,null,7,"section",[["class","row align-center"]],null,null,null,null,null)),(n()(),o._29(null,["\n    "])),(n()(),o._26(0,null,null,4,"div",[["class","small-12 medium-4 column"]],null,null,null,null,null)),(n()(),o._29(null,["\n      "])),(n()(),o._26(0,null,null,1,"button",[["class","big"]],null,null,null,null,null)),(n()(),o._29(null,["Add Expense"])),(n()(),o._29(null,["\n    "])),(n()(),o._29(null,["\n  "])),(n()(),o._29(null,["\n"])),(n()(),o._29(null,["\n\n"])),(n()(),o._26(0,null,null,1,"tylr-footer",[],null,null,null,a.a,a.b)),o._27(114688,null,0,s.a,[],null,null),(n()(),o._29(null,["\n"]))],function(n,l){n(l,22,0,"1");n(l,23,0,"1");n(l,27,0,"2");n(l,28,0,"2"),n(l,129,0)},function(n,l){n(l,0,0,o._33(l,4).ngClassUntouched,o._33(l,4).ngClassTouched,o._33(l,4).ngClassPristine,o._33(l,4).ngClassDirty,o._33(l,4).ngClassValid,o._33(l,4).ngClassInvalid,o._33(l,4).ngClassPending)})}function e(n){return o._25(0,[(n()(),o._26(0,null,null,1,"tylr-design",[],null,null,null,t,_)),o._27(114688,null,0,c.a,[],null,null)],function(n,l){n(l,1,0)},null)}var r=u("yFzX"),o=u("/oeL"),i=u("bm2B"),a=u("vy9s"),s=u("4HqU"),c=u("smNJ");u.d(l,"a",function(){return d});var p=[r.a],_=o._24({encapsulation:0,styles:p,data:{}}),d=o._28("tylr-design",c.a,e,{},{},[])},jKZW:function(n,l,u){"use strict";u.d(l,"a",function(){return t});var t=[".name[_ngcontent-%COMP%]{font-weight:700}"]},jXDm:function(n,l,u){"use strict";u.d(l,"a",function(){return t});var t=[""]},jghB:function(n,l,u){"use strict";var t=u("ZZrM"),e=u("O+fl"),r=u("yYYf"),o=u("FCMx");u.d(l,"a",function(){return i});var i=function(){function n(){}return n.forRoot=function(l){return{ngModule:n,providers:[t.a,e.a,e.b,t.b,e.c,t.c,r.a,o.a]}},n}()},kEJv:function(n,l,u){"use strict";u.d(l,"a",function(){return t});var t=function(){function n(n,l,u,t,e){this.id=n,this.payer=l,this.amount=u,this.createdTime=t,this.modifiedTime=e}return Object.defineProperty(n.prototype,"amountDecimal",{get:function(){return this.amount/100},enumerable:!0,configurable:!0}),n}()},kQRT:function(n,l,u){"use strict";var t=u("BkNc"),e=u("FCMx"),r=u("yFnZ"),o=u("zzQC"),i=u("NHX5"),a=u("CZpQ");u.d(l,"a",function(){return s});var s=function(){function n(n,l,u){this.route=n,this.compensationService=l,this.navigationService=u,this.MODE=this.route.snapshot.paramMap.has("compensationId")?r.a.EDIT:r.a.CREATE}return n.prototype.ngOnInit=function(){switch(this.group=this.route.snapshot.data.group,this.MODE){case r.a.CREATE:this.handleCreateMode();break;case r.a.EDIT:this.handleEditMode();break;default:throw new Error("Unsupported operation")}},n.prototype.handleCreateMode=function(){this.group.people.length<2&&this.navigationService.goToDashboard(this.group.id);var n=parseInt(this.route.snapshot.queryParamMap.get("payerId"),10),l=this.group.getPeopleAsMap().get(n);l||(l=this.group.people[0]),this.compensation=new o.a(null,l,0,this.getPossibleProfiteer(l.id))},n.prototype.handleEditMode=function(){var n=this,l=this.route.snapshot.paramMap.get("compensationId");this.compensationService.getCompensation(this.group.id,parseInt(l,10)).subscribe(function(l){n.compensation=l,n.updateTotalAmount(l.amountDecimal)},function(l){return n.response=l.message})},n.prototype.onTotalAmountChanged=function(n){this.compensation.amount=100*a.a.convertStringToNumber(n)},n.prototype.toggleIsInvolved=function(n){this.compensation.profiteer=n},n.prototype.onPayerChanged=function(n){var l=parseInt(n,10);this.compensation.payer=this.group.getPeopleAsMap().get(l),this.compensation.profiteer.id===l&&(this.compensation.profiteer=this.getPossibleProfiteer(l))},n.prototype.saveCompensation=function(n){var l=this;return n.form.valid?this.compensationService.saveCompensation(this.group.id,this.compensation,this.MODE).subscribe(function(){l.navigationService.goToDashboard(l.group.id)},function(n){l.response=n.message}):console.log(n.errors),!1},n.prototype.getPossibleProfiteer=function(n){return this.group.people[0].id===n?this.group.people[1]:this.group.people[0]},n.prototype.updateTotalAmount=function(n){this.totalAmount=n.toFixed(2)},n.ctorParameters=function(){return[{type:t.b},{type:e.a},{type:i.a}]},n}()},khFZ:function(n,l,u){"use strict";function t(n){return _._25(0,[(n()(),_._29(null,["\n        "])),(n()(),_._26(0,null,null,1,"p",[],null,null,null,null,null)),(n()(),_._29(null,["\n          Sad! You don't have any group members. Let's add some:\n        "])),(n()(),_._29(null,["\n\n        "])),(n()(),_._26(0,null,null,18,"a",[["class","row"],["routerLink","edit"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,u){var t=!0;if("click"===l){t=!1!==_._33(n,5).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&t}return t},null,null)),_._27(671744,null,0,d.z,[d.a,d.b,f.e],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),_._31(["action"]),(n()(),_._29(null,["\n          "])),(n()(),_._26(0,null,null,13,"div",[["class","small-12 medium-4 column"]],null,null,null,null,null)),(n()(),_._29(null,["\n            "])),(n()(),_._26(0,null,null,10,"div",[["class","card add"]],null,null,null,null,null)),(n()(),_._29(null,["\n              "])),(n()(),_._26(0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(n()(),_._29(null,["\n                "])),(n()(),_._26(0,null,null,1,"span",[["class","symbol small-12 column"]],null,null,null,null,null)),(n()(),_._29(null,["+"])),(n()(),_._29(null,["\n                "])),(n()(),_._26(0,null,null,1,"span",[["class","description small-12 column"]],null,null,null,null,null)),(n()(),_._29(null,["Add Person"])),(n()(),_._29(null,["\n              "])),(n()(),_._29(null,["\n            "])),(n()(),_._29(null,["\n          "])),(n()(),_._29(null,["\n        "])),(n()(),_._29(null,["\n      "]))],function(n,l){n(l,5,0,n(l,6,0,"add"),"edit")},function(n,l){n(l,4,0,_._33(l,5).target,_._33(l,5).href)})}function e(n){return _._25(0,[(n()(),_._26(0,null,null,19,"div",[["class","small-12 medium-6 large-4 column"]],null,[[null,"click"]],function(n,l,u){var t=!0,e=n.component;if("click"===l){t=!1!==e.onPersonSelected(n.context.$implicit.person)&&t}return t},null,null)),(n()(),_._29(null,["\n          "])),(n()(),_._26(0,null,null,16,"div",[["class","card person"],["name","person"]],null,null,null,null,null)),_._27(278528,null,0,f.l,[_.l,_.n,_.P,_.O],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),_._31(["active","negative"]),(n()(),_._29(null,["\n            "])),(n()(),_._26(0,null,null,11,"div",[["class","row"]],null,null,null,null,null)),(n()(),_._29(null,["\n              "])),(n()(),_._26(0,null,null,1,"h3",[["class","name small-12 column"]],null,null,null,null,null)),(n()(),_._29(null,["",""])),(n()(),_._29(null,["\n              "])),(n()(),_._26(0,null,null,1,"span",[["class","currency small-2 column"]],null,null,null,null,null)),(n()(),_._29(null,["",""])),(n()(),_._29(null,["\n              "])),(n()(),_._26(0,null,null,2,"span",[["class","value small-10 column"]],null,null,null,null,null)),(n()(),_._29(null,["",""])),_._30(1),(n()(),_._29(null,["\n            "])),(n()(),_._29(null,["\n          "])),(n()(),_._29(null,["\n        "]))],function(n,l){var u=l.component;n(l,3,0,"card person",n(l,4,0,l.context.$implicit.person.id==(null==u.selectedPerson?null:u.selectedPerson.id),l.context.$implicit.balance<0))},function(n,l){var u=l.component;n(l,9,0,l.context.$implicit.person.name),n(l,12,0,u.group.currency),n(l,15,0,_._32(l,15,0,n(l,16,0,_._33(l.parent.parent.parent,0),l.context.$implicit.balanceDecimal)))})}function r(n){return _._25(0,[(n()(),_._26(0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(n()(),_._29(null,["\n        "])),(n()(),_._34(16777216,null,null,1,null,e)),_._27(802816,null,0,f.m,[_.W,_._7,_.l],{ngForOf:[0,"ngForOf"]},null),(n()(),_._29(null,["\n      "]))],function(n,l){n(l,3,0,l.component.debts)},null)}function o(n){return _._25(0,[(n()(),_._26(0,null,null,6,"div",[],null,null,null,null,null)),(n()(),_._29(null,["\n\n      "])),(n()(),_._34(0,[["emptyPeopleBlock",2]],null,0,null,t)),(n()(),_._29(null,["\n\n      "])),(n()(),_._34(16777216,null,null,1,null,r)),_._27(16384,null,0,f.n,[_.W,_._7],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),_._29(null,["\n    "]))],function(n,l){n(l,5,0,l.component.debts.length,_._33(l,2))},null)}function i(n){return _._25(0,[(n()(),_._29(null,["\n      Group Loading\n    "]))],null,null)}function a(n){return _._25(0,[(n()(),_._26(0,null,null,32,"tr",[],null,null,null,null,null)),(n()(),_._29(null,["\n          "])),(n()(),_._26(0,null,null,2,"td",[["class","time"]],null,null,null,null,null)),(n()(),_._29(null,["",""])),_._30(2),(n()(),_._29(null,["\n          "])),(n()(),_._26(0,null,null,5,"td",[],null,null,null,null,null)),(n()(),_._29(null,["\n            "])),(n()(),_._26(0,null,null,1,"span",[["class","currency"]],null,null,null,null,null)),(n()(),_._29(null,["",""])),(n()(),_._29(null,["\n            ","\n          "])),_._30(2),(n()(),_._29(null,["\n          "])),(n()(),_._26(0,null,null,1,"td",[],null,null,null,null,null)),(n()(),_._29(null,["",""])),(n()(),_._29(null,["\n          "])),(n()(),_._26(0,null,null,7,"td",[],null,null,null,null,null)),(n()(),_._29(null,["\n            "])),(n()(),_._26(0,null,null,4,"a",[["class","small-1"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,u){var t=!0;if("click"===l){t=!1!==_._33(n,19).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&t}return t},null,null)),_._27(671744,null,0,d.z,[d.a,d.b,f.e],{routerLink:[0,"routerLink"]},null),(n()(),_._29(null,["\n              "])),(n()(),_._26(0,null,null,0,"img",[["src","assets/edit.svg"]],null,null,null,null,null)),(n()(),_._29(null,["\n            "])),(n()(),_._29(null,["\n          "])),(n()(),_._29(null,["\n          "])),(n()(),_._26(0,null,null,6,"td",[],null,null,null,null,null)),(n()(),_._29(null,["\n            "])),(n()(),_._26(0,null,null,3,"a",[["class","small-1"]],null,[[null,"click"]],function(n,l,u){var t=!0,e=n.component;if("click"===l){t=!1!==e.deleteTransaction(n.context.$implicit)&&t}return t},null,null)),(n()(),_._29(null,["\n              "])),(n()(),_._26(0,null,null,0,"img",[["src","assets/cancel.svg"]],null,null,null,null,null)),(n()(),_._29(null,["\n            "])),(n()(),_._29(null,["\n          "])),(n()(),_._29(null,["\n        "]))],function(n,l){n(l,19,0,l.component.getTransactionEditLink(l.context.$implicit))},function(n,l){var u=l.component;n(l,3,0,_._32(l,3,0,n(l,4,0,_._33(l.parent,1),l.context.$implicit.modifiedTime,"H:mm"))),n(l,9,0,u.group.currency),n(l,10,0,_._32(l,10,0,n(l,11,0,_._33(l.parent,2),l.context.$implicit.amountDecimal,"2.2-2"))),n(l,14,0,l.context.$implicit.title?l.context.$implicit.title:"Compensation"),n(l,18,0,_._33(l,19).target,_._33(l,19).href)})}function s(n){return _._25(0,[_._35(0,g.a,[]),_._35(0,f.o,[_.h]),_._35(0,f.p,[_.h]),(n()(),_._26(0,null,null,78,"div",[["class","row"]],null,null,null,null,null)),(n()(),_._29(null,["\n  "])),(n()(),_._26(0,null,null,38,"section",[["class","overview small-12 xlarge-8 column"]],null,null,null,null,null)),(n()(),_._29(null,["\n    "])),(n()(),_._26(0,null,null,4,"h2",[["class","small-12"]],null,null,null,null,null)),(n()(),_._29(null,[""," Overview "])),(n()(),_._26(0,null,null,2,"a",[["class","share"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,u){var t=!0;if("click"===l){t=!1!==_._33(n,10).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&t}return t},null,null)),_._27(671744,null,0,d.z,[d.a,d.b,f.e],null,null),(n()(),_._26(0,null,null,0,"img",[["src","assets/share.svg"]],null,null,null,null,null)),(n()(),_._29(null,["\n\n    "])),(n()(),_._34(16777216,null,null,1,null,o)),_._27(16384,null,0,f.n,[_.W,_._7],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),_._29(null,["\n\n    "])),(n()(),_._26(0,null,null,24,"div",[["class","row"]],null,null,null,null,null)),(n()(),_._29(null,["\n      "])),(n()(),_._26(0,null,null,6,"div",[["class","small-12 medium-4 xxlarge-3 column"],["routerLink","expenses/create"]],null,[[null,"click"]],function(n,l,u){var t=!0;if("click"===l){t=!1!==_._33(n,19).onClick()&&t}return t},null,null)),_._27(16384,null,0,d.A,[d.a,d.b,[8,null],_.O,_.P],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),_._31(["payerId"]),(n()(),_._29(null,["\n        "])),(n()(),_._26(0,null,null,1,"button",[],[[8,"disabled",0]],null,null,null,null)),(n()(),_._29(null,["Add Expense"])),(n()(),_._29(null,["\n      "])),(n()(),_._29(null,["\n      "])),(n()(),_._26(0,null,null,6,"div",[["class","small-12 medium-4 xxlarge-3 column"],["routerLink","compensations/create"]],null,[[null,"click"]],function(n,l,u){var t=!0;if("click"===l){t=!1!==_._33(n,27).onClick()&&t}return t},null,null)),_._27(16384,null,0,d.A,[d.a,d.b,[8,null],_.O,_.P],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),_._31(["payerId"]),(n()(),_._29(null,["\n        "])),(n()(),_._26(0,null,null,1,"button",[],[[8,"disabled",0]],null,null,null,null)),(n()(),_._29(null,["Add Compensation"])),(n()(),_._29(null,["\n      "])),(n()(),_._29(null,["\n      "])),(n()(),_._26(0,null,null,5,"div",[["class","small-12 medium-4 xxlarge-3 column"],["routerLink","suggest-payments"]],null,[[null,"click"]],function(n,l,u){var t=!0;if("click"===l){t=!1!==_._33(n,35).onClick()&&t}return t},null,null)),_._27(16384,null,0,d.A,[d.a,d.b,[8,null],_.O,_.P],{routerLink:[0,"routerLink"]},null),(n()(),_._29(null,["\n        "])),(n()(),_._26(0,null,null,1,"button",[["class","secondary"]],[[8,"disabled",0]],null,null,null,null)),(n()(),_._29(null,["Suggest Payments\n        "])),(n()(),_._29(null,["\n      "])),(n()(),_._29(null,["\n    "])),(n()(),_._29(null,["\n\n    "])),(n()(),_._34(0,[["nullGroupBlock",2]],null,0,null,i)),(n()(),_._29(null,["\n  "])),(n()(),_._29(null,["\n\n  "])),(n()(),_._26(0,null,null,35,"section",[["class","last-transactions small-12 large-8 xlarge-4 column"]],null,null,null,null,null)),(n()(),_._29(null,["\n    "])),(n()(),_._26(0,null,null,1,"h2",[["class","small-12"]],null,null,null,null,null)),(n()(),_._29(null,["Last Transactions"])),(n()(),_._29(null,["\n    "])),(n()(),_._26(0,null,null,29,"div",[["class","card secondary"]],null,null,null,null,null)),(n()(),_._29(null,["\n      "])),(n()(),_._26(0,null,null,26,"table",[],null,null,null,null,null)),(n()(),_._29(null,["\n        "])),(n()(),_._26(0,null,null,17,"thead",[],null,null,null,null,null)),(n()(),_._29(null,["\n        "])),(n()(),_._26(0,null,null,14,"tr",[],null,null,null,null,null)),(n()(),_._29(null,["\n          "])),(n()(),_._26(0,null,null,1,"td",[["class","time"]],null,null,null,null,null)),(n()(),_._29(null,["Time"])),(n()(),_._29(null,["\n          "])),(n()(),_._26(0,null,null,1,"td",[],null,null,null,null,null)),(n()(),_._29(null,["Amount"])),(n()(),_._29(null,["\n          "])),(n()(),_._26(0,null,null,1,"td",[],null,null,null,null,null)),(n()(),_._29(null,["Description"])),(n()(),_._29(null,["\n          "])),(n()(),_._26(0,null,null,0,"td",[],null,null,null,null,null)),(n()(),_._29(null,["\n          "])),(n()(),_._26(0,null,null,0,"td",[],null,null,null,null,null)),(n()(),_._29(null,["\n        "])),(n()(),_._29(null,["\n        "])),(n()(),_._29(null,["\n        "])),(n()(),_._26(0,null,null,4,"tbody",[],null,null,null,null,null)),(n()(),_._29(null,["\n\n        "])),(n()(),_._34(16777216,null,null,1,null,a)),_._27(802816,null,0,f.m,[_.W,_._7,_.l],{ngForOf:[0,"ngForOf"]},null),(n()(),_._29(null,["\n        "])),(n()(),_._29(null,["\n      "])),(n()(),_._29(null,["\n    "])),(n()(),_._29(null,["\n  "])),(n()(),_._29(null,["\n"])),(n()(),_._29(null,["\n"]))],function(n,l){var u=l.component;n(l,14,0,u.group,_._33(l,42));n(l,19,0,n(l,20,0,null==u.selectedPerson?null:u.selectedPerson.id),"expenses/create");n(l,27,0,n(l,28,0,null==u.selectedPerson?null:u.selectedPerson.id),"compensations/create");n(l,35,0,"suggest-payments"),n(l,76,0,u.transactions)},function(n,l){var u=l.component;n(l,8,0,null==u.group?null:u.group.name),n(l,9,0,_._33(l,10).target,_._33(l,10).href),n(l,22,0,u.group.people.length<2),n(l,30,0,u.group.people.length<2),n(l,37,0,u.transactions.length<1)})}function c(n){return _._25(0,[(n()(),_._26(0,null,null,1,"tylr-dashboard",[],null,null,null,s,S)),_._27(245760,null,0,h.a,[d.b,m.a,v.a,y.a,b.a,P.a],null,null)],function(n,l){n(l,1,0)},null)}var p=u("au0W"),_=u("/oeL"),d=u("BkNc"),f=u("qbdv"),g=u("cVHN"),h=u("wWgx"),m=u("WyQf"),v=u("wPMS"),y=u("g6XM"),b=u("FCMx"),P=u("FZbv");u.d(l,"a",function(){return O});var C=[p.a],S=_._24({encapsulation:0,styles:C,data:{}}),O=_._28("tylr-dashboard",h.a,c,{},{},[])},na9u:function(n,l,u){"use strict";function t(n){return s._25(0,[(n()(),s._29(null,["\n    "])),(n()(),s._26(0,null,null,1,"p",[],null,null,null,null,null)),(n()(),s._29(null,["\n      Great! There are no debts. Everything's settled up.\n    "])),(n()(),s._29(null,["\n  "]))],null,null)}function e(n){return s._25(0,[(n()(),s._29(null,["\n      "])),(n()(),s._26(0,null,null,31,"section",[["class","small-12 medium-2 column"]],null,null,null,null,null)),(n()(),s._29(null,["\n        "])),(n()(),s._26(0,null,null,28,"div",[["class","row"]],null,null,null,null,null)),(n()(),s._29(null,["\n          "])),(n()(),s._26(0,null,null,7,"div",[["class","small-12 column"]],null,null,null,null,null)),(n()(),s._29(null,["\n            From "])),(n()(),s._26(0,null,null,1,"span",[["class","name"]],null,null,null,null,null)),(n()(),s._29(null,["",""])),(n()(),s._29(null,["\n            to "])),(n()(),s._26(0,null,null,1,"span",[["class","name"]],null,null,null,null,null)),(n()(),s._29(null,["",""])),(n()(),s._29(null,["\n          "])),(n()(),s._29(null,["\n          "])),(n()(),s._26(0,null,null,8,"div",[["class","small-12 column"]],null,null,null,null,null)),(n()(),s._29(null,["\n            "])),(n()(),s._26(0,null,null,5,"h2",[],null,null,null,null,null)),(n()(),s._29(null,["\n              "])),(n()(),s._26(0,null,null,1,"span",[["class","currency"]],null,null,null,null,null)),(n()(),s._29(null,["",""])),(n()(),s._29(null,[" ","\n            "])),s._30(1),(n()(),s._29(null,["\n          "])),(n()(),s._29(null,["\n          "])),(n()(),s._26(0,null,null,6,"div",[["class","small-12 column"]],null,null,null,null,null)),(n()(),s._29(null,["\n            "])),(n()(),s._26(0,null,null,3,"button",[],null,[[null,"click"]],function(n,l,u){var t=!0,e=n.component;if("click"===l){t=!1!==e.pay(n.context.index)&&t}return t},null,null)),s._27(278528,null,0,c.l,[s.l,s.n,s.P,s.O],{ngClass:[0,"ngClass"]},null),s._31(["success"]),(n()(),s._29(null,["Pay"])),(n()(),s._29(null,["\n          "])),(n()(),s._29(null,["\n        "])),(n()(),s._29(null,["\n      "])),(n()(),s._29(null,["\n    "]))],function(n,l){n(l,27,0,n(l,28,0,l.component.isPaid[l.context.index]))},function(n,l){var u=l.component;n(l,8,0,l.context.$implicit.payer.name),n(l,11,0,l.context.$implicit.profiteer.name),n(l,19,0,u.group.currency),n(l,20,0,s._32(l,20,0,n(l,21,0,s._33(l.parent.parent,0),l.context.$implicit.amountDecimal)))})}function r(n){return s._25(0,[(n()(),s._26(0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(n()(),s._29(null,["\n    "])),(n()(),s._34(16777216,null,null,1,null,e)),s._27(802816,null,0,c.m,[s.W,s._7,s.l],{ngForOf:[0,"ngForOf"]},null),(n()(),s._29(null,["\n  "]))],function(n,l){n(l,3,0,l.component.compensations)},null)}function o(n){return s._25(0,[s._35(0,p.a,[]),(n()(),s._26(0,null,null,39,"section",[["class","small-12 column"]],null,null,null,null,null)),(n()(),s._29(null,["\n\n  "])),(n()(),s._26(0,null,null,1,"p",[["class","error"]],null,null,null,null,null)),(n()(),s._29(null,["",""])),(n()(),s._29(null,["\n\n  "])),(n()(),s._34(0,[["emptySuggestedPayments",2]],null,0,null,t)),(n()(),s._29(null,["\n\n  "])),(n()(),s._34(16777216,null,null,1,null,r)),s._27(16384,null,0,c.n,[s.W,s._7],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),s._29(null,["\n  "])),(n()(),s._26(0,null,null,19,"div",[],null,null,null,null,null)),(n()(),s._29(null,["\n    "])),(n()(),s._26(0,null,null,1,"a",[],null,[[null,"click"]],function(n,l,u){var t=!0,e=n.component;if("click"===l){t=!1!==e.toggleHelp()&&t}return t},null,null)),(n()(),s._29(null,["How is this calculated?"])),(n()(),s._29(null,["\n    "])),(n()(),s._26(0,null,null,13,"div",[["class","help"]],[[8,"hidden",0]],null,null,null,null)),(n()(),s._29(null,["\n      "])),(n()(),s._26(0,null,null,1,"p",[],null,null,null,null,null)),(n()(),s._29(null,["The algorithm we use minimizes the amount of payments needed to settle the group up. How do we do this?"])),(n()(),s._29(null,["\n      "])),(n()(),s._26(0,null,null,1,"p",[],null,null,null,null,null)),(n()(),s._29(null,["Let's say you have a group of friends, Tony, Sara and Simon. Tony owes 20 to Sara and Sara owes 20 to Simon"])),(n()(),s._29(null,["\n      "])),(n()(),s._26(0,null,null,1,"p",[],null,null,null,null,null)),(n()(),s._29(null,["Settling this up the traditional way would suggest that Tony pays 20 to Sara and Sara pays 20 to Simon. This\n        takes two transactions."])),(n()(),s._29(null,["\n      "])),(n()(),s._26(0,null,null,1,"p",[],null,null,null,null,null)),(n()(),s._29(null,["But this can be short-circuited. If you think about it, Sara needs the 20 from Tony just to pay Simon. This is\n        where we step in and suggest another route instead. Instead of two transactions, we simplify this to one\n        transaction, from Tony to Simon."])),(n()(),s._29(null,["\n    "])),(n()(),s._29(null,["\n  "])),(n()(),s._29(null,["\n  "])),(n()(),s._26(0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(n()(),s._29(null,["\n    "])),(n()(),s._26(0,null,null,4,"div",[["class","small-12 medium-2 column"]],null,null,null,null,null)),(n()(),s._29(null,["\n      "])),(n()(),s._26(0,null,null,1,"button",[["class","secondary"],["type","button"]],null,[[null,"click"]],function(n,l,u){var t=!0,e=n.component;if("click"===l){t=!1!==e.onCancel()&&t}return t},null,null)),(n()(),s._29(null,["\n        Cancel\n      "])),(n()(),s._29(null,["\n    "])),(n()(),s._29(null,["\n  "])),(n()(),s._29(null,["\n"])),(n()(),s._29(null,["\n"]))],function(n,l){n(l,9,0,l.component.compensations.length,s._33(l,6))},function(n,l){var u=l.component;n(l,4,0,u.message),n(l,16,0,u.helpHidden)})}function i(n){return s._25(0,[(n()(),s._26(0,null,null,1,"tylr-suggest-payments",[],null,null,null,o,y)),s._27(114688,null,0,_.a,[d.b,f.a,g.a,h.a,m.a],null,null)],function(n,l){n(l,1,0)},null)}var a=u("jKZW"),s=u("/oeL"),c=u("qbdv"),p=u("cVHN"),_=u("Y8ja"),d=u("BkNc"),f=u("FZbv"),g=u("wPMS"),h=u("NHX5"),m=u("FCMx");u.d(l,"a",function(){return b});var v=[a.a],y=s._24({encapsulation:0,styles:v,data:{}}),b=s._28("tylr-suggest-payments",_.a,i,{},{},[])},noME:function(n,l,u){"use strict";function t(n){return o._25(0,[(n()(),o._26(0,null,null,17,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,l,u){var t=!0,e=n.component;if("submit"===l){t=!1!==o._33(n,2).onSubmit(u)&&t}if("reset"===l){t=!1!==o._33(n,2).onReset()&&t}if("ngSubmit"===l){t=!1!==e.createGroup(o._33(n,2))&&t}return t},null,null)),o._27(16384,null,0,a.f,[],null,null),o._27(16384,[["createGroupForm",4]],0,a.g,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),o._37(2048,null,a.h,null,[a.g]),o._27(16384,null,0,a.i,[a.h],null,null),(n()(),o._29(null,["\n\n  "])),(n()(),o._26(0,null,null,7,"input",[["id","groupName"],["name","groupName"],["placeholder","Name"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,u){var t=!0,e=n.component;if("input"===l){t=!1!==o._33(n,7)._handleInput(u.target.value)&&t}if("blur"===l){t=!1!==o._33(n,7).onTouched()&&t}if("compositionstart"===l){t=!1!==o._33(n,7)._compositionStart()&&t}if("compositionend"===l){t=!1!==o._33(n,7)._compositionEnd(u.target.value)&&t}if("ngModelChange"===l){t=!1!==(e.groupName=u)&&t}return t},null,null)),o._27(16384,null,0,a.j,[o.O,o.P,[2,a.k]],null,null),o._27(16384,null,0,a.l,[],{required:[0,"required"]},null),o._37(1024,null,a.m,function(n){return[n]},[a.l]),o._37(1024,null,a.n,function(n){return[n]},[a.j]),o._27(671744,null,0,a.o,[[2,a.h],[2,a.m],[8,null],[2,a.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),o._37(2048,null,a.p,null,[a.o]),o._27(16384,null,0,a.q,[a.p],null,null),(n()(),o._29(null,["\n\n  "])),(n()(),o._26(0,null,null,1,"button",[["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),o._29(null,["\n    Create\n  "])),(n()(),o._29(null,["\n\n"])),(n()(),o._29(null,["\n"])),(n()(),o._26(0,null,null,1,"span",[["class","error"]],null,null,null,null,null)),(n()(),o._29(null,["",""])),(n()(),o._29(null,["\n"]))],function(n,l){var u=l.component;n(l,8,0,"");n(l,11,0,"groupName",u.groupName)},function(n,l){var u=l.component;n(l,0,0,o._33(l,4).ngClassUntouched,o._33(l,4).ngClassTouched,o._33(l,4).ngClassPristine,o._33(l,4).ngClassDirty,o._33(l,4).ngClassValid,o._33(l,4).ngClassInvalid,o._33(l,4).ngClassPending),n(l,6,0,o._33(l,8).required?"":null,o._33(l,13).ngClassUntouched,o._33(l,13).ngClassTouched,o._33(l,13).ngClassPristine,o._33(l,13).ngClassDirty,o._33(l,13).ngClassValid,o._33(l,13).ngClassInvalid,o._33(l,13).ngClassPending),n(l,15,0,!o._33(l,2).form.valid),n(l,20,0,u.response)})}function e(n){return o._25(0,[(n()(),o._26(0,null,null,1,"tylr-group-create",[],null,null,null,t,f)),o._27(114688,null,0,i.a,[s.a,c.a,p.a,_.a],null,null)],function(n,l){n(l,1,0)},null)}var r=u("E/tm"),o=u("/oeL"),i=u("ox/w"),a=u("bm2B"),s=u("FZbv"),c=u("WyQf"),p=u("wPMS"),_=u("NHX5");u.d(l,"b",function(){return f}),l.a=t;var d=[r.a],f=o._24({encapsulation:0,styles:d,data:{}});o._28("tylr-group-create",i.a,e,{},{},[])},o03F:function(n,l,u){"use strict";var t=u("NHX5");u.d(l,"a",function(){return t.a});var e=u("wPMS");u.d(l,"b",function(){return e.a});u("8dNA")},"ox/w":function(n,l,u){"use strict";var t=u("ZZrM"),e=u("OSOh");u.d(l,"a",function(){return r});var r=function(){function n(n,l,u,t){this.groupService=n,this.groupStorageService=l,this.logService=u,this.navigationService=t,this.groupName=""}return n.prototype.ngOnInit=function(){},n.prototype.createGroup=function(n){var l=this;return n.form.valid&&this.groupService.createGroup(this.groupName).subscribe(function(n){l.groupStorageService.storeGroup(n),l.navigationService.goToDashboard(n.id)},function(n){l.logService.error(n),l.response=n.message}),!1},n.ctorParameters=function(){return[{type:t.a},{type:t.b},{type:e.b},{type:e.a}]},n}()},p5Ee:function(n,l,u){"use strict";u.d(l,"a",function(){return t});var t={production:!0,serverBaseUrl:"https://api.teiler.io/v1/",logLevel:"ERROR"}},q4dy:function(n,l,u){"use strict";function t(n){return r._25(0,[(n()(),r._26(16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r._27(212992,null,0,o.y,[o.q,r.W,r.e,[8,null],r.T],null,null)],function(n,l){n(l,1,0)},null)}function e(n){return r._25(0,[(n()(),r._26(0,null,null,1,"tylr-root",[],null,null,null,t,s)),r._27(49152,null,0,i.a,[o.a],null,null)],null,null)}var r=u("/oeL"),o=u("BkNc"),i=u("wQAS");u.d(l,"a",function(){return c});var a=[],s=r._24({encapsulation:2,styles:a,data:{}}),c=r._28("tylr-root",i.a,e,{},{},[])},qkC6:function(n,l,u){"use strict";u.d(l,"a",function(){return t});var t=[""]},qtrl:function(n,l){function u(n){throw new Error("Cannot find module '"+n+"'.")}u.keys=function(){return[]},u.resolve=u,n.exports=u,u.id="qtrl"},"r+lL":function(n,l,u){"use strict";var t=(u("P3Et"),u("C5vK"),u("Dsky"));u.d(l,"a",function(){return t.a});u("yFnZ")},"s/PX":function(n,l,u){"use strict";u.d(l,"a",function(){return t});var t=function(){function n(){this.NAME="GroupComponent"}return n}()},smNJ:function(n,l,u){"use strict";u.d(l,"a",function(){return t});var t=function(){function n(){}return n.prototype.ngOnInit=function(){},n.ctorParameters=function(){return[]},n}()},tJSj:function(n,l,u){"use strict";var t=u("BkNc"),e=u("yFnZ"),r=u("CZpQ"),o=u("g6XM"),i=u("eJ6V"),a=u("NHX5");u.d(l,"a",function(){return s});var s=function(){function n(n,l,u){this.route=n,this.expenseService=l,this.navigationService=u,this.MODE=this.route.snapshot.paramMap.has("expenseId")?e.a.EDIT:e.a.CREATE}return n.prototype.ngOnInit=function(){switch(this.group=this.route.snapshot.data.group,this.MODE){case e.a.CREATE:this.handleCreateMode();break;case e.a.EDIT:this.handleEditMode();break;default:throw new Error("Unsupported operation")}},n.prototype.handleCreateMode=function(){this.group.people.length<2&&this.navigationService.goToDashboard(this.group.id);var n=parseInt(this.route.snapshot.queryParamMap.get("payerId"),10),l=this.group.getPeopleAsMap().get(n);l||(l=this.group.people[0]);var u=new i.a(null,l,0,"",[]);u.fillProfiteers(this.group.getPeopleAsMap(),!0),this.expense=u},n.prototype.handleEditMode=function(){var n=this,l=this.route.snapshot.paramMap.get("expenseId");this.expenseService.getExpense(this.group.id,parseInt(l,10)).subscribe(function(l){l.fillProfiteers(n.group.getPeopleAsMap(),!1),n.updateTotalAmount(l.amountDecimal),n.expense=l})},n.prototype.onTotalAmountChanged=function(n){this.expense.amount=100*r.a.convertStringToNumber(n),this.expense.splitEvenly()},n.prototype.onSharedAmountChanged=function(n,l){var u=r.a.convertStringToNumber(n);this.expense.updateProfiteer(l,100*u,!0),this.expense.splitEvenlyAmongRestProfiteers()},n.prototype.onPayerChanged=function(n){this.expense.payer=this.group.getPeopleAsMap().get(parseInt(n,10))},n.prototype.toggleIsInvolved=function(n,l){n.stopPropagation(),l.isInvolved=!l.isInvolved,this.expense.splitEvenly()},n.prototype.onResetSplitClick=function(n){n.stopPropagation(),this.expense.splitEvenly()},n.prototype.saveExpense=function(n){var l=this;return n.form.valid&&this.expenseService.saveExpense(this.group.id,this.expense,this.MODE).subscribe(function(){l.navigationService.goToDashboard(l.group.id)},function(n){l.response=n.message}),!1},n.prototype.updateTotalAmount=function(n){n&&(this.totalAmount=n.toFixed(2))},n.ctorParameters=function(){return[{type:t.b},{type:o.a},{type:a.a}]},n}()},"tng+":function(n,l,u){"use strict";var t=u("CPp0"),e=u("Dqrr"),r=(u.n(e),u("p5Ee")),o=u("r+lL");u.d(l,"a",function(){return i});var i=function(){function n(l,u){this.http=l,this.tylrErrorService=u,this.requestOptions=new o.a(n.JSON_HEADERS)}return n.prototype.get=function(n){return this.http.get(r.a.serverBaseUrl+n)},n.prototype.post=function(n,l,u){return this.http.post(r.a.serverBaseUrl+n,JSON.stringify(l),this.requestOptions.merge(u))},n.prototype.put=function(n,l,u){return this.http.put(r.a.serverBaseUrl+n,JSON.stringify(l),this.requestOptions.merge(u))},n.prototype.delete=function(n){return this.http.delete(r.a.serverBaseUrl+n)},n.prototype.handleApiJsonResponse=function(n){return n.json()},n.prototype.handleApiError=function(n){var l=this.tylrErrorService.getApiErrorMessage(n.json().error);return e.Observable.throw(new Error(l))},n}();i.JSON_HEADERS={headers:new t.l({"content-type":"application/json"})}},vnfH:function(n,l,u){"use strict";u.d(l,"a",function(){return t});var t=function(){function n(){}return n}()},vy9s:function(n,l,u){"use strict";function t(n){return o._25(0,[(n()(),o._26(0,null,null,19,"footer",[["class","row"]],null,null,null,null,null)),(n()(),o._29(null,["\n  "])),(n()(),o._26(0,null,null,16,"nav",[["class","small-12"]],null,null,null,null,null)),(n()(),o._29(null,["\n    "])),(n()(),o._26(0,null,null,13,"ul",[],null,null,null,null,null)),(n()(),o._29(null,["\n      "])),(n()(),o._26(0,null,null,2,"li",[],null,null,null,null,null)),(n()(),o._26(0,null,null,1,"a",[["href","https://doc.teiler.io"]],null,null,null,null,null)),(n()(),o._29(null,["API Docs"])),(n()(),o._29(null,["\n      "])),(n()(),o._26(0,null,null,2,"li",[],null,null,null,null,null)),(n()(),o._26(0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(n()(),o._29(null,["About"])),(n()(),o._29(null,["\n      "])),(n()(),o._26(0,null,null,2,"li",[],null,null,null,null,null)),(n()(),o._26(0,null,null,1,"a",[["href","mailto:contact@teiler.io"]],null,null,null,null,null)),(n()(),o._29(null,["Contact"])),(n()(),o._29(null,["\n    "])),(n()(),o._29(null,["\n  "])),(n()(),o._29(null,["\n"])),(n()(),o._29(null,["\n"]))],null,null)}function e(n){return o._25(0,[(n()(),o._26(0,null,null,1,"tylr-footer",[],null,null,null,t,s)),o._27(114688,null,0,i.a,[],null,null)],function(n,l){n(l,1,0)},null)}var r=u("T86r"),o=u("/oeL"),i=u("4HqU");u.d(l,"b",function(){return s}),l.a=t;var a=[r.a],s=o._24({encapsulation:0,styles:a,data:{}});o._28("tylr-footer",i.a,e,{},{},[])},"w/sl":function(n,l,u){"use strict";u.d(l,"a",function(){return t});var t=["select[_ngcontent-%COMP%], select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{text-transform:uppercase}"]},wPMS:function(n,l,u){"use strict";var t=u("p5Ee");u.d(l,"a",function(){return r});var e;!function(n){n[n.DEBUG=0]="DEBUG",n[n.INFO=1]="INFO",n[n.WARN=2]="WARN",n[n.ERROR=3]="ERROR"}(e||(e={}));var r=function(){function n(){this.app="tylr-web",this.logLevel=e[t.a.logLevel]}return n.prototype.debug=function(n,l){this.log(e.DEBUG,n,l)},n.prototype.info=function(n,l){this.log(e.INFO,n,l)},n.prototype.warn=function(n,l){this.log(e.WARN,n,l)},n.prototype.error=function(n,l){this.log(e.ERROR,n.message,l)},n.prototype.generateLog=function(n,l,u){return(new Date).toLocaleString()+": "+this.app+" "+e[n]+" - "+(u?u+": ":"")+l},n.prototype.log=function(n,l,u){n>=this.logLevel&&this.getLogFunction(n)(this.generateLog(n,l,u))},n.prototype.getLogFunction=function(n){switch(n){case e.DEBUG:case e.INFO:return console.log;case e.WARN:return console.warn;case e.ERROR:return console.error;default:throw new Error("unsupported log level "+n)}},n.ctorParameters=function(){return[]},n}()},wQAS:function(n,l,u){"use strict";var t=u("BkNc");u.d(l,"a",function(){return e});var e=function(){function n(n){this.router=n,n.events.subscribe(function(n){n instanceof t.B&&window.scrollTo(0,0)})}return n.ctorParameters=function(){return[{type:t.a}]},n}()},wQe3:function(n,l,u){"use strict";var t=u("FZbv"),e=u("OSOh"),r=u("wPMS"),o=u("WyQf");u.d(l,"a",function(){return i});var i=function(){function n(n,l,u,t){this.groupService=n,this.groupStorageService=l,this.logService=u,this.navigationService=t}return n.prototype.ngOnInit=function(){},n.prototype.loginGroup=function(n){var l=this;return n.form.valid&&this.groupService.getGroup(this.groupId).subscribe(function(n){l.groupStorageService.storeGroup(n),l.navigationService.goToDashboard(n.id)},function(n){l.logService.error(n),l.response=n.message}),!1},n.ctorParameters=function(){return[{type:t.a},{type:o.a},{type:r.a},{type:e.a}]},n}()},wWgx:function(n,l,u){"use strict";var t=u("BkNc"),e=u("WyQf"),r=u("g6XM"),o=u("eJ6V"),i=u("bKpL"),a=(u.n(i),u("FCMx")),s=u("zzQC"),c=u("FZbv"),p=u("wPMS");u.d(l,"a",function(){return _});var _=function(){function n(n,l,u,t,e,r){this.route=n,this.groupStorageService=l,this.logService=u,this.expenseService=t,this.compensationService=e,this.groupService=r,this.transactions=[],this.debts=[]}return n.prototype.ngOnInit=function(){var n=this;this.setGroup(this.route.snapshot.data.group),this.groupSubscription=this.groupStorageService.onCurrentGroupChanged.subscribe(function(l){l&&n.setGroup(l)})},n.prototype.setGroup=function(n){this.group=n,this.loadTransactions(),this.loadDebts()},n.prototype.loadDebts=function(){var n=this;this.groupService.getDebts(this.group.id).subscribe(function(l){return n.debts=l},function(l){return n.logService.error(l)})},n.prototype.getTransactionEditLink=function(n){return(n instanceof o.a?"expenses":"compensations")+"/"+n.id+"/edit"},n.prototype.deleteTransaction=function(n){var l,u=this;if(n instanceof o.a)l=this.expenseService.deleteExpense(this.group.id,n.id);else{if(!(n instanceof s.a))return void console.error("Unsupported Transaction Type");l=this.compensationService.deleteCompensation(this.group.id,n.id)}l.subscribe(function(n){u.loadTransactions()},function(n){console.error(n)})},n.prototype.loadTransactions=function(){var n=this;i.Observable.zip(this.expenseService.getExpenses(this.group.id),this.compensationService.getCompensations(this.group.id),function(n,l){var u=[];return n.forEach(function(n){u.push(n)}),l.forEach(function(n){u.push(n)}),u.sort(function(n,l){return l.modifiedTime.getTime()-n.modifiedTime.getTime()}),u}).subscribe(function(l){n.transactions=l})},n.prototype.onPersonSelected=function(n){this.selectedPerson=n===this.selectedPerson?null:n},n.prototype.ngOnDestroy=function(){this.groupSubscription&&this.groupSubscription.unsubscribe()},n.ctorParameters=function(){return[{type:t.b},{type:e.a},{type:p.a},{type:r.a},{type:a.a},{type:c.a}]},n}()},xerC:function(n,l,u){"use strict";u.d(l,"a",function(){return t});var t=function(){function n(){}return n.forRoot=function(l){return{ngModule:n,providers:[]}},n}()},yFnZ:function(n,l,u){"use strict";u.d(l,"a",function(){return t});var t;!function(n){n[n.CREATE=0]="CREATE",n[n.EDIT=1]="EDIT",n[n.UPDATE=2]="UPDATE",n[n.DELETE=3]="DELETE"}(t||(t={}))},yFzX:function(n,l,u){"use strict";u.d(l,"a",function(){return t});var t=["label[_ngcontent-%COMP%]{white-space:nowrap;display:block;padding-right:.2em;padding-left:1em}label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], label[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{margin-left:.5em}"]},yYYf:function(n,l,u){"use strict";var t=u("tng+"),e=u("CPp0"),r=u("yFnZ"),o=u("8dNA");u.d(l,"a",function(){return a});var i=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var u in l)l.hasOwnProperty(u)&&(n[u]=l[u])};return function(l,u){function t(){this.constructor=l}n(l,u),l.prototype=null===u?Object.create(u):(t.prototype=u.prototype,new t)}}(),a=function(n){function l(l,u){var t=n.call(this,l,u)||this;return t.apiUrl="groups/:groupId/compensations",t}return i(l,n),l.prototype.getCompensations=function(n){return this.handleResponse(this.get(this.getRequestUrl(n,"")))},l.prototype.getCompensation=function(n,l){return this.handleResponse(this.get(this.getRequestUrl(n,"/"+l)))},l.prototype.createCompensation=function(n,l){var u=this.buildSaveCompensationDto(l,r.a.CREATE);return this.handleResponse(this.post(this.getRequestUrl(n,""),u))},l.prototype.updateExpense=function(n,l){var u=this.buildSaveCompensationDto(l,r.a.EDIT);return this.handleResponse(this.put(this.getRequestUrl(n,"/"+l.id),u))},l.prototype.deleteCompensation=function(n,l){return this.delete(this.getRequestUrl(n,"/"+l)).map(function(){return!0}).catch(this.handleApiError.bind(this))},l.prototype.getRequestUrl=function(n,l){return this.apiUrl.replace(":groupId",n)+l},l.prototype.handleResponse=function(n){return n.map(function(n){return n.json()}).catch(this.handleApiError.bind(this))},l.prototype.buildSaveCompensationDto=function(n,l){var u={amount:n.amount,payer:{id:n.payer.id},profiteer:{id:n.profiteer.id}};return l===r.a.EDIT&&(u.id=n.id),u},l.ctorParameters=function(){return[{type:e.i},{type:o.a}]},l}(t.a)},zzQC:function(n,l,u){"use strict";var t=u("kEJv"),e=u("Hdtn");u.d(l,"a",function(){return o});var r=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var u in l)l.hasOwnProperty(u)&&(n[u]=l[u])};return function(l,u){function t(){this.constructor=l}n(l,u),l.prototype=null===u?Object.create(u):(t.prototype=u.prototype,new t)}}(),o=function(n){function l(l,u,t,e,r,o){var i=n.call(this,l,u,t,r,o)||this;return i.profiteer=e,i}return r(l,n),l.fromDto=function(n){return new l(parseInt(n.id,10),e.a.fromDto(n.payer),parseInt(n.amount,10),e.a.fromDto(n.profiteer),new Date(n["create-time"]),new Date(n["update-time"]))},l.prototype.isValid=function(){return this.amount>0&&null!==this.payer&&null!==this.profiteer},l}(t.a)}},[0]);