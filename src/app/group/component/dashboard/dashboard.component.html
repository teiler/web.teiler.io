<div class="row">
  <section class="overview small-12 medium-expand column">
    <h2 class="small-12">{{group?.name}} Overview</h2>

    <div *ngIf="group; else nullGroupBlock">

      <ng-template #emptyPeopleBlock>
        <p>
          Sad! You don't have any group members. Let's add some:
        </p>

        <a routerLink="edit">
          <div class="card add medium-4 large-4 row">
            <span class="symbol small-12">+</span>
            <span class="description small-12">Add Person</span>
          </div>
        </a>
      </ng-template>

      <div class="row" *ngIf="group.people.length; else emptyPeopleBlock">
        <div class="small-12 medium-4 column" *ngFor="let p of group.people">
          <div name="person" class="card person negative">
            <div class="row">
              <h3 class="name small-12 column">{{p.name}}</h3>
              <span class="currency small-2 column">{{group.currency}}</span>
              <span class="value small-10 column">0.00</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="small-12 medium-4 large-3 column" routerLink="expenses/create">
        <button [disabled]="this.group.people.length < 2">Add Expense</button>
      </div>
      <div class="small-12 medium-4 large-3 column" routerLink="compensations/create">
        <button [disabled]="this.group.people.length < 2">Add Compensation</button>
      </div>
      <div class="small-12 medium-4 large-3 column" routerLink="suggest-payments">
        <button class="secondary">Suggest Payments</button>
      </div>
    </div>

    <ng-template #nullGroupBlock>
      Group Loading
    </ng-template>
  </section>

  <section class="last-transactions small-12 medium-4 column">
    <h2 class="small-12">Last Transactions</h2>
    <div class="card secondary">
      <table>
        <thead>
        <tr>
          <td>Time</td>
          <td>Amount</td>
          <td>Description</td>
          <td></td>
          <td></td>
        </tr>
        </thead>
        <tbody>

        <tr *ngFor="let t of transactions">
          <td>{{t.modifiedTime | date:'H:mm'}}</td>
          <td>
            <span class="currency">{{group.currency}}</span>
            {{t.amountDecimal | number:'2.2-2'}}
          </td>
          <td>{{t.title ? t.title : "Compensation"}}</td>
          <td>
            <a class="small-1" [routerLink]="getTransactionEditLink(t)">
              <img src="assets/edit.svg">
            </a>
          </td>
          <td>
            <a class="small-1" (click)="deleteTransaction(t)">
              <img src="assets/cancel.svg">
            </a>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </section>
</div>
